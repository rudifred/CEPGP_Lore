<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script File="Button.lua"/>
	<Script File="Utility.lua"/>
	<Script File="Core.lua"/>
		
	<Frame name="CEPGP_frame" parent="UIParent" hidden="true" enableMouse="true" toplevel="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="600" y="480" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Frames>
			<Button name="CEPGP_button_guild" inherits="GameMenuButtonTemplate" text="Guild">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="CEPGP_frame">
						<Offset>
							<AbsDimension x="10" y="-12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_guild");
						CEPGP_Info.Mode = "guild";
						CEPGP_populateFrame();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_raid" inherits="GameMenuButtonTemplate" text="Raid">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_button_guild">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						if not UnitInRaid("player") or CEPGP_Info.Debug then
							self:Hide();
						end
					</OnLoad>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_raid");
						CEPGP_Info.Mode = "raid";
						CEPGP_populateFrame();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_options" inherits="GameMenuButtonTemplate" text="Options">
			  <HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Size>
					<AbsDimension x="95" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-35" y="-12"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						InterfaceOptionsFrame_Show();
						InterfaceOptionsFrame_OpenToCategory("Classic EPGP");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_loot_dist" inherits="GameMenuButtonTemplate" text="Loot List">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_button_options">
						<Offset>
							<AbsDimension x="2.5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						if not UnitInRaid("player") or CEPGP_Info.Debug then
							self:Hide();
						end
					</OnLoad>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_loot");
						CEPGP_Info.Mode = "loot";
						CEPGP_cleanTable();
						CEPGP_LootFrame_Update();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_frame_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_frame:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_distributing_button" inherits="GameMenuButtonTemplate" text="Loot Distribution" hidden="true">
				<Size>
					<AbsDimension x="125" y="22" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" x="-10" y="-32.5" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_toggleFrame("CEPGP_distribute");
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="CEPGP_guild" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild" />
				</Anchors>
				<Frames>
					<Button name="CEPGP_button_guild_dump" inherits="GameMenuButtonTemplate" text="Save Standings">
						<Size>
							<AbsDimension x="125" y="22" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_save_guild_logs:Show()
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_export" inherits="GameMenuButtonTemplate" text="Export Standings">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_distributing_button" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_export:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_import" inherits="GameMenuButtonTemplate" text="Import Standings">
						<Size>
							<AbsDimension x="100" y="22" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_button_guild_export" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_import:Show()
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_options_attendance" inherits="GameMenuButtonTemplate" text="Raid Attendance">
						<Size>
							<AbsDimension x="125" y="22" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_export">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_attendance:Show();
								CEPGP_setCriteria(1, "Attendance");
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Measure the attendance of your raid by creating snapshots.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_filter" inherits="GameMenuButtonTemplate" text="Filter View">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Size>
							<AbsDimension x="100" y="22" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_button_options_attendance" />
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_rank_filter:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_restore" inherits="GameMenuButtonTemplate" text="Restore Standings">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_dump" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_restore_guild_logs:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_traffic" inherits="GameMenuButtonTemplate" text="View EPGP Traffic">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_restore" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								ShowUIPanel(CEPGP_traffic);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_name" inherits="CEPGPHeaderButton" text="Name" >
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_class" inherits="CEPGPHeaderButton" text="Class">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="-5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_rank" inherits="CEPGPHeaderButton" text="Rank">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_guild_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_EP" inherits="CEPGPHeaderButton" text="EP">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_guild_rank">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_GP" inherits="CEPGPHeaderButton" text="GP">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT"  relativeTo="CEPGP_guild_EP">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Guild");
							</OnClick>							
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_PR" inherits="CEPGPHeaderButton" text="PR">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT"  relativeTo="CEPGP_guild_GP">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<ScrollFrame name="GuildScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="550" y="320" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_guild_name">
								<Offset>
									<AbsDimension x="-2" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_guild_scrollframe_container">
								<Size>
									<AbsDimension x="550" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="CEPGP_guild_add_EP" inherits="GameMenuButtonTemplate" text="Add Guild EP">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="GuildScrollFrame">
								<Offset>
									<AbsDimension x="0" y="-5" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Add/subtract EP for the whole guild.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay" inherits="GameMenuButtonTemplate" text="Decay Guild EPGP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_add_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Decay/inflate the EPGP standings for the whole guild.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP.Decay.Separate or not CanEditOfficerNote() then
									self:Hide();
								end
							</OnShow>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay_EP" inherits="GameMenuButtonTemplate" text="Decay Guild EP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_add_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Decay/inflate the EP for the whole guild.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CanEditOfficerNote() and CEPGP.Decay.Separate then
									self:Show();
								elseif not CanEditOfficerNote() or not CEPGP.Decay.Separate then
									self:Hide();
								end
							</OnShow>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay_GP" inherits="GameMenuButtonTemplate" text="Decay Guild GP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_decay_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnShow>
								if CanEditOfficerNote() and CEPGP.Decay.Separate then
									self:Show();
								elseif not CanEditOfficerNote() or not CEPGP.Decay.Separate then
									self:Hide();
								end
							</OnShow>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Decay/inflate the GP for the whole guild.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>

					<Button name="CEPGP_guild_reset" inherits="GameMenuButtonTemplate" text="Reset All EPGP Standings">
						<Size>
							<AbsDimension x="160" y="21" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if not CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Reset EPGP standings to default values for the whole guild.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_guild_CEPGP_mode" inherits="GameFontNormal" text="Current View: Guild">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="CEPGP_raid" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_raid_CEPGP_mode" inherits="GameFontNormal" text="Current View: Raid">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="RaidScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="550" y="320" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" relativeTo="GuildScrollFrame">
								<Offset>
									<AbsDimension x="0" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_raid_scrollframe_container">
								<Size>
									<AbsDimension x="550" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="CEPGP_raid_name" inherits="CEPGPHeaderButton" text="Name">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="5" y="-50" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_class" inherits="CEPGPHeaderButton" text="Class">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="-5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_rank" inherits="CEPGPHeaderButton" text="Rank">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_EP" inherits="CEPGPHeaderButton" text="EP">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_rank">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_EP">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_PR" inherits="CEPGPHeaderButton" text="PR">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_GP">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_add_EP" inherits="GameMenuButtonTemplate" text="Add Raid EP">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMLEFT">
								<Offset>
									<AbsDimension x="10" y="25" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if not CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<Frame name="CEPGP_loot" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_loot_CEPGP_mode" inherits="GameFontNormal" text="Current View: Loot Distribution">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
						<FontString name="$parent_notice" inherits="GameFontNormal">
							<Anchors>
								<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_CEPGP_mode" y="-20" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_loot_announce" inherits="CEPGPHeaderButton" text="Announce">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-10" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
					<Button name="CEPGP_loot_item" inherits="CEPGPHeaderButton" text="Item">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_announce">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
					<Button name="CEPGP_loot_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT">
								<Offset>
									<AbsDimension x="-20" y="-10" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
				</Frames>
				<Scripts>
					<OnShow>
						if not CEPGP_Info.Loot.Open then
							CEPGP_loot_notice:Show();
							CEPGP_loot_notice:SetText("To distribute loot, open the loot window of a corpse or object.\nAlternatively, click the 'Distribute from Bags' button below.");
							CEPGP_loot_announce:Hide();
							CEPGP_loot_item:Hide();
							CEPGP_loot_GP:Hide();
						else
							CEPGP_loot_notice:Hide();
							CEPGP_loot_announce:Show();
							CEPGP_loot_item:Show();
							CEPGP_loot_GP:Show();
						end
					</OnShow>
				</Scripts>
			</Frame>
			<Frame name="CEPGP_distribute" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="710" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_distribute_CEPGP_mode" inherits="GameFontNormal" text="Distributing Item">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP">
									<Offset>
										<AbsDimension x="0" y="-20" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_item" inherits="GameFontNormal" text="Item">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="50" y="-30" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_item_name" inherits="GameFontNormal">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CEPGP_distribute">
									<Offset>
										<AbsDimension x="49" y="-45" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_GP_head" inherits="GameFontNormal" text="GP">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPRIGHT">
									<Offset>
										<AbsDimension x="-20" y="-30" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_GP_value" inherits="GameFontNormal" text="0">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeTo="CEPGP_distribute_GP_head">
									<Offset>
										<AbsDimension x="0" y="-15" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parent_responses_received" inherits="GameFontNormal">	
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
									<Offset>
										<AbsDimension x="10" y="20" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parent_time" inherits="GameFontNormal" hidden="true">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_responses_received" x="10"/>
							</Anchors>
						</FontString>
						
						<Texture name="CEPGP_distribute_item_texture">
							<Size>
								<AbsDimension x="30" y="30" />
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="CEPGP_distribute_item_name">
									<Offset>
										<AbsDimension x="-32" y="5" />
									</Offset>
								</Anchor>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_distribute_item_tex">
						<Size>
							<AbsDimension x="30" y="30" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativeTo="CEPGP_distribute_item_texture" relativePoint="CENTER" />
						</Anchors>
					</Button>
					<Button name="CEPGP_distribute_item_name_frame">
						<Size>
							<AbsDimension x="228" y="20" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativeTo="CEPGP_distribute_item_name" />
						</Anchors>
					</Button>
					<!--Display for the raid members-->
					<Button name="CEPGP_distribute_raid_name" inherits="CEPGPHeaderButton" text="Name">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="-10" y="-70" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_class" inherits="CEPGPHeaderButton" text="Class">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_name">
								<Offset>
									<AbsDimension x="82.5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_rank" inherits="CEPGPHeaderButton" text="Rank">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_response" inherits="CEPGPHeaderButton" text="Response">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_rank">
								<Offset>
									<AbsDimension x="105" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(11, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_EP" inherits="CEPGPHeaderButton" text="EP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_response">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_EP">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_PR" inherits="CEPGPHeaderButton" text="PR">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_GP">
								<Offset>
									<AbsDimension x="15" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_roll" inherits="CEPGPHeaderButton" text="Roll">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_PR">
								<Offset>
									<AbsDimension x="10" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(12, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<ScrollFrame name="DistScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="690" y="320" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="0" y="-75"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_dist_scrollframe_container">
								<Size>
									<AbsDimension x="690" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="$parent_roll_award" inherits="GameMenuButtonTemplate" text="Award to Highest Roller">
						<Size>
							<AbsDimension x="150" y="25" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMRIGHT">
								<Offset>
									<AbsDimension x="0" y="12" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								
								local player, class, colouredName;
								local highestRoll = 0;
								local gp = math.floor(CEPGP_distribute_GP_value:GetText());
								local link = select(2, GetItemInfo(CEPGP_Info.Loot.DistributionID));
								
								for name, v in pairs(CEPGP_Info.Loot.ItemsTable) do
									if v[4] then
										if v[4] > highestRoll and ((CEPGP.Loot.HighestRollIncludesPass and v[3] == 6) or v[3] ~= 6) then
											player = name;
											highestRoll = v[4];
										end
									end
								end
								
								if highestRoll == 0 then return; end
								
								if CEPGP_Info.Guild.Roster[player] then
									class = CEPGP_Info.Guild.Roster[player][7];
								else
									for index, v in ipairs(CEPGP_Info.Raid.Roster) do
										if v[1] == player then
											class = v[8];
											break;
										end
									end
								end
																
								CEPGP_Info.DistTarget = player;
								
								colouredName = CEPGP_encodeClassString(class, player);
								
								CEPGP_roll_award_confirm:Show();
								CEPGP_roll_award_confirm_desc:SetText("Would you like to award " .. link .. "\nto " .. colouredName .. " for " .. gp .. "GP with a roll of " .. highestRoll .. "?");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parent_announce_response" inherits="GameMenuButtonTemplate" hidden="true">
						<Size x="1" y="25" />
						<Anchors>
							<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="$parent_roll_award" />
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="$parent_text" inherits="GameFontNormal" text="Announce Responses">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="CENTER" />
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnShow>
								local frame = self;
								self:SetWidth(_G[frame:GetName() .. "_text"]:GetStringWidth()+20);
							</OnShow>
							<OnClick>
								CEPGP_announceResponses();
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnShow>
						CEPGP_distributing_button:Show();
						if CEPGP_isML() ~= 0 then
							CEPGP_distribute_roll_award:Hide();
							CEPGP_distribute_announce_response:Hide();
						else
							CEPGP_distribute_roll_award:Show();
							CEPGP_distribute_announce_response:Show();
						end
						CEPGP_frame:SetWidth(CEPGP_frame:GetWidth()+150);
						
						self:SetPoint("BOTTOMLEFT", 20, 0);
					</OnShow>
					<OnHide>
						CEPGP_frame:SetWidth(CEPGP_frame:GetWidth()-150);
					</OnHide>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterEvent("LOOT_OPENED");
				self:RegisterEvent("LOOT_CLOSED");
				self:RegisterEvent("LOOT_SLOT_CLEARED");
				self:RegisterEvent("CHAT_MSG_WHISPER");
				self:RegisterEvent("ADDON_LOADED");
				self:RegisterEvent("GUILD_ROSTER_UPDATE");
				self:RegisterEvent("GROUP_ROSTER_UPDATE");
				self:RegisterEvent("CHAT_MSG_MONSTER_EMOTE");
				self:RegisterEvent("CHAT_MSG_ADDON");
				self:RegisterEvent("CHAT_MSG_ADDON_LOGGED");
				self:RegisterEvent("PLAYER_REGEN_DISABLED");
				self:RegisterEvent("CHAT_MSG_MONSTER_YELL");
				self:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED");
				self:RegisterEvent("PARTY_LOOT_METHOD_CHANGED");
				self:RegisterEvent("CHAT_MSG_BN_WHISPER");
				self:RegisterEvent("GET_ITEM_INFO_RECEIVED");
				self:RegisterEvent("UNIT_SPELLCAST_SUCCEEDED");
				self:RegisterEvent("PLAYER_ROLES_ASSIGNED");
				self:RegisterEvent("ENCOUNTER_END");
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnEvent>
				CEPGP_OnEvent(event, ...);
			</OnEvent>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_log" enableMouse="true" movable="true" clampedToScreen="true" hidden="true" inherits="BackdropTemplate">
		<Size x="600" y="350" />
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture name="$parent_header_tex" file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="384" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="CEPGP Message Logging">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_num" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="TOPRIGHT" x="-35" y="-15"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_log_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_log:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_log_update" inherits="GameMenuButtonTemplate" text="Update Log">
				<Size x="75" y="21" />
				<Anchors>
					<Anchor point="TOPLEFT" x="10" y="-10" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_UpdateLogScrollBar();
						CEPGP_log_container:ClearFocus();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_log_selectall" inherits="GameMenuButtonTemplate" text="Select All">
				<Size x="75" y="21" />
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_log_update" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_log_container:HighlightText();
						CEPGP_log_container:SetFocus();
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame inherits="UIPanelScrollFrameTemplate">
				<Size x="545" y="300" />
				<Anchors>
					<Anchor point="TOPRIGHT" x="-32" y="-40" />
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_log_container" autofocus="false" multiline="true">
						<Size>
							<AbsDimension x="545" y="300" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormalSmall"/>
						<Scripts>
							<OnLoad>
								self:SetAutoFocus(false);
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_UpdateLogScrollBar();
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_version" enableMouse="true" hidden="true" movable="true" parent="UIParent" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="450" y="450" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset>
					<AbsDimension x="0" y="-30" />
				</Offset>
			</Anchor>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Attributes>
			<Attribute name="offline" type="boolean" value="false" />
		</Attributes>

		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_version_offline" inherits="GameFontNormal" text="Show Offline Players: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="10" y="-10" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_version_CEPGP_mode" inherits="GameFontNormal" text="Current View: Version">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_version_number" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_version_CEPGP_mode">
							<Offset>
								<AbsDimension x="0" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_offline_check" inherits="UIOptionsCheckButtonTemplate" checked="false">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_version_offline">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_version:SetAttribute("offline", self:GetChecked());
						CEPGP_UpdateVersionScrollBar();
					</OnClick>
				</Scripts>
			</CheckButton>
			<ScrollFrame nme="CEPGP_version_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="400" y="300"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="CEPGP_version" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="10" y="-75"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_version_scrollframe_container">
						<Size>
							<AbsDimension x="400" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<Button name="CEPGP_version_name" inherits="CEPGPHeaderButton" text="Name">
				<Size>
					<AbsDimension x="35" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="60" y="-50" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(1, "Version");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_version" inherits="CEPGPHeaderButton" text="Version">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="CEPGP_version_name">
						<Offset>
							<AbsDimension x="260" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(2, "Version");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_close" inherits="GameMenuButtonTemplate" text="Close">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="10" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_version);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_guild_check" inherits="GameMenuButtonTemplate" text="Get Guild Status">
				<Size>
					<AbsDimension x="145" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-7.5" y="10" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Version.List = {};
						CEPGP_Info.Version.ListSearch = "GUILD";
						CEPGP_addAddonMsg("version-check", "GUILD");
						for i = 1, GetNumGuildMembers() do
							local name, _, _, _, class, _, _, _, online, _, classFileName = GetGuildRosterInfo(i);
							name = Ambiguate(name, "all");
							if online then
								CEPGP_Info.Version.List[name] = CEPGP_Info.Version.List[name] or {
									[1] = "Addon not enabled",
									[2] = class,
									[3] = classFileName
								};
							else
								CEPGP_Info.Version.List[name] = {
									[1] = "Offline",
									[2] = class,
									[3] = classFileName
								};
							end
						end
						CEPGP_UpdateVersionScrollBar();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_raid_check" inherits="GameMenuButtonTemplate" text="Get Raid Status">
				<Size>
					<AbsDimension x="140" y="21" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_version_guild_check" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
						CEPGP_Info.Version.List = {};
						CEPGP_addAddonMsg("version-check", "RAID");
						CEPGP_Info.Version.ListSearch = "RAID";
						for i = 1, GetNumGroupMembers() do
							local name, _, _, _, class, classFile, _, online = GetRaidRosterInfo(i);
							if online then
								CEPGP_Info.Version.List[name] = CEPGP_Info.Version.List[name] or {
									[1] = "Addon not enabled",
									[2] = class,
									[3] = classFile
								};
							else
								CEPGP_Info.Version.List[name] = {
									[1] = "Offline",
									[2] = class,
									[3] = classFile
								};
							end
						end
						CEPGP_UpdateVersionScrollBar();

					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				self:SetAttribute("offline", true);
			</OnHide>
			<OnShow>
				if UnitInRaid("player") or UnitInParty("player") then
					CEPGP_version_raid_check:Show();
				else
					CEPGP_version_raid_check:Hide();
				end
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_distribute_popup" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="400" y="100"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Attributes>
			<Attribute name="response" type="int" value="0" />
			<Attribute name="responseName" type="string" value=""/>
		</Attributes>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_distribute_popup_header" inherits="GameFontNormal" text="Distributing Item">
					<Anchors>
						<Anchor point="TOP" relativeTo="CEPGP_distribute_popup">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_distribute_popup_title" inherits="GameFontNormal" text="Item Info">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_distribute_popup_header">
							<Offset>
								<AbsDimension x="0" y="-10"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_pass" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="-7.5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_distribute_popup:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_distribute_popup_gp" inherits="GameMenuButtonTemplate" text="Discount">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
			</Button>
			<Button name="CEPGP_distribute_popup_gp_full" inherits="GameMenuButtonTemplate" text="Give for Full Price">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
			</Button>
			<Button name="CEPGP_distribute_popup_free" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("Give for\nFree");
					</OnLoad>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterEvent("UI_ERROR_MESSAGE");
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
			<OnEvent>
				if CEPGP_Info.DistTarget ~= "" then
					local eCode = select(1, ...);
					CEPGP_distribute_popup_OnEvent(eCode);
				end
			</OnEvent>
			<OnHide>
				CEPGP_distribute_popup_title:SetText("");
				CEPGP_Info.DistTarget = "";
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_context_popup" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">>
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_context_popup_EP_check_text" inherits="GameFontNormal" text="EP">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="CEPGP_context_popup">
							<Offset>
								<AbsDimension x="32" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_GP_check_text" inherits="GameFontNormal" text="GP">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="CEPGP_context_popup">
							<Offset>
								<AbsDimension x="32" y="-35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_header" inherits="GameFontNormal" text="Moderation">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_title" inherits="GameFontNormal" text="Add Guild EP">
					<Anchors>
						<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_header">
							<Offset>
								<AbsDimension x="0" y="-20"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_desc" inherits="GameFontNormal" text="Add Guild EP">
					<Anchors>
						<Anchor point="TOP" relativeTo="CEPGP_context_popup_title" relativePoint="BOTTOM">
							<Offset>
								<AbsDimension x="0" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_reason" inherits="GameFontNormal" text="Reason (Optional)">
					<Anchors>
						<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_title">
							<Offset>
								<AbsDimension x="0" y="-70"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_context_popup_EP_check" inherits="UIOptionsCheckButtonTemplate" checked="1">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="10" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_context_popup_GP_check:SetChecked(nil);
							CEPGP_context_popup_desc:SetText("Add/Subtract EP");
						else
							self:SetChecked(1);
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_context_popup_GP_check" inherits="UIOptionsCheckButtonTemplate">
				<Anchors>
					<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_EP_check">
						<Offset>
							<AbsDimension x="0" y="-20" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_context_popup_EP_check:SetChecked(nil);
							CEPGP_context_popup_desc:SetText("Add/Subtract GP");
						else
							self:SetChecked(1);
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_context_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_context_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_context_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset>
							<AbsDimension x="0" y="-30" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_context_popup_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_context_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_context_popup_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_decay_popup" frameStrata="DIALOG" enableMouse="true" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="200"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_percent_text" inherits="GameFontNormal" text="Percent: ">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="12" y="-15"/>
							</Offset>
						</Anchor>
						
					</Anchors>
				</FontString>
				<FontString name="$parent_fixed_text" inherits="GameFontNormal" text="Fixed Number: ">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_percent_text">
							<Offset>
								<AbsDimension x="0" y="-12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_header" inherits="GameFontNormal" text="Decay">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-60"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_reason_text" inherits="GameFontNormal" text="Reason (Optional)" />
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_fixed_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_fixed_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if not self:GetChecked() then
							self:SetChecked(true);
						end
						
						CEPGP_decay_popup_percent_check:SetChecked(false);
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parent_percent_check" inherits="UIOptionsCheckButtonTemplate" checked="1">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_percent_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if not self:GetChecked() then
							self:SetChecked(true);
						end
						
						CEPGP_decay_popup_fixed_check:SetChecked(false);
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="$parent_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_decay_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_reason_text">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_decay_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				self:SetScale(0.66);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_decay_popup_reason_text:SetPoint("TOP", CEPGP_decay_popup_amount, "BOTTOM", 0, -10);
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_award_raid_popup" frameStrata="DIALOG" enableMouse="true" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="200"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_standby_text" inherits="GameFontNormal" text="Award to Standby: ">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="12" y="-30"/>
							</Offset>
						</Anchor>
						
					</Anchors>
				</FontString>
				<FontString name="$parent_header" inherits="GameFontNormal" text="Raid Moderation">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal" text="Adds/Subtracts an amount of EP for the entire raid">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-60"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_reason_text" inherits="GameFontNormal" text="Reason (Optional)" />
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_standby_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_standby_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="$parent_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_award_raid_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_reason_text">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_award_raid_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				self:SetScale(0.66);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_award_raid_popup_reason_text:SetPoint("TOP", CEPGP_award_raid_popup_amount, "BOTTOM", 0, -10);
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_save_guild_logs" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_guild_log_save_header" inherits="GameFontNormal" text="Save Guild Standings">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_guild_log_save_desc" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="CEPGP_guild_log_save_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="250" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset>
							<AbsDimension x="0" y="-15" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_guild_log_save_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_save_guild_logs);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_save_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_saveStandings(CEPGP_guild_log_save_name:GetText());
					</OnClick>
					<OnHide>
						CEPGP_Info.OverwriteLog = false;
						CEPGP_Info.RecordExists = nil;
					</OnHide>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				CEPGP_guild_log_save_desc:SetText("Name your log\n\nIf you choose a name already in use,\nit will overwrite the existing log.");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_restore_guild_logs" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_guild_log_restore_header" inherits="GameFontNormal" text="Restore Standings">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_guild_log_restore_desc" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_restoreDropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="CENTER" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="70" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						UIDropDownMenu_SetWidth(self, 250);
						CEPGP_initRestoreDropdown();
					</OnShow>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_restore_guild_logs);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_delete" inherits="GameMenuButtonTemplate" text="Delete Record">
				<Size>
					<AbsDimension x="100" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local record = UIDropDownMenu_GetSelectedName(CEPGP_restoreDropdown);
						CEPGP.Backups[record] = nil;
						CEPGP_print("Deleted log: " .. record);
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnClick>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local name = UIDropDownMenu_GetSelectedName(CEPGP_restoreDropdown);
						
						local function update()
							--CEPGP_Info.IgnoreUpdates = false;
							CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
							CEPGP_print("Guild EPGP standings have been restored from record [" .. name .. "]");
							CEPGP_addTraffic("Guild", UnitName("player"), "Restored EPGP Standings from log [" .. name .. "]");
							if _G["CEPGP_traffic"]:IsVisible() then
								CEPGP_UpdateTrafficScrollBar();
							end
						end
						
						--CEPGP_Info.IgnoreUpdates = true;
						
						C_Timer.After(0.1, function()
							if CEPGP.Backups[name] ~= nil and CEPGP_Info.Backups.ConfirmRestore then
								local i = 0;
								C_Timer.NewTicker(0.0001, function()
									i = i + 1;
									local fullName = GetGuildRosterInfo(i);
									local player = Ambiguate(fullName, "all");
									if CEPGP.Backups[name][fullName] and not CEPGP_Info.Guild.Roster[player][9] then
										GuildRosterSetOfficerNote(i, CEPGP.Backups[name][fullName]);
									end
									if i == GetNumGuildMembers() then
										update();
									end
								end, GetNumGuildMembers());
								CEPGP_Info.Backups.ConfirmRestore = false;
								HideUIPanel(CEPGP_restore_guild_logs);
							elseif CEPGP.Backups[name] ~= nil then
								CEPGP_print("Are you sure you would like to restore guild EPGP standings from record [" .. name .. "]?");
								CEPGP_print("This action CANNOT be undone. Press confirm again to restore.");
								CEPGP_Info.Backups.ConfirmRestore = true;
							else
								CEPGP_print("Record [" .. name .. "] could not be found", true);
							end
						end);
					</OnClick>
					<OnHide>
						CEPGP_Info.Backups.ConfirmRestore = false;
					</OnHide>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				CEPGP_guild_log_restore_desc:SetText("Select the record you would like to restore\n\n|c00FF0000Make sure this is what you want to do.\nThis will overwrite ALL current guild EPGP\nstandings with the record.");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				CloseDropDownMenus();
			</OnHide>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_settings_import" frameStrata="DIALOG" enableMouse="true" parent="UIParent" movable="true" clampedToScreen="true" hidden="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="350" y="400"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_settings_import_header" inherits="GameFontNormal" text="Import Settings">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_settings_import_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_name_string" inherits="GameFontNormal" text="Import Settings From:">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_settings_import_desc" x="-5" y="-15" />
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="$parent_sf" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="5" y="60" />
				</Anchors>
				<ScrollChild>
					<Frame name="$parent_container">
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<CheckButton name="$parent_verbose_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent_sf">
						<Offset>
							<AbsDimension x="2.5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_desc" inherits="GameFontNormal" text="Enable Detailed Reporting" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						CEPGP_Info.VerboseLogging = self:GetChecked();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Display status updates during the import process.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						self:SetChecked(CEPGP_Info.VerboseLogging);
					</OnShow>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_settings_import_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="100" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_name_string">
						<Offset>
							<AbsDimension x="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_select_all" inherits="GameMenuButtonTemplate" text="Select All">
				<Size x="75" y="30" />
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="15" y="10" />
				</Anchors>
				<Scripts>
					<OnClick>
						local i = 1;
						while _G["ImportCheckButton_" .. i] do
							local frame = _G["ImportCheckButton_" .. i];
							frame:SetChecked(true);
							i = i + 1;
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_select_none" inherits="GameMenuButtonTemplate" text="Deselect All">
				<Size x="75" y="30" />
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_settings_import_select_all" x="5" />
				</Anchors>
				<Scripts>
					<OnClick>
						local i = 1;
						while _G["ImportCheckButton_" .. i] do
							local frame = _G["ImportCheckButton_" .. i];
							frame:SetChecked(false);
							i = i + 1;
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_settings_import_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-15" y="10"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_settings_import_name:ClearFocus();
						local name = CEPGP_settings_import_name:GetText();
						local IsInGuild = false;
						local IsInRaid = false;
						CEPGP_Info.Import.Verbose = CEPGP_settings_import_verbose_check:GetChecked();
						if #name == 0 then
							return;
						end
						
						if name == UnitName("player") then
							return;
						end
						
						if CEPGP_ContainsIllegalChar(name) then
							CEPGP_print("Found an invalid character (i.e. a space, comma, etc..) in the name you provided. Please remove the invalid character and try again.", true);
							return;
						end
						
						for i = 1, GetNumGuildMembers() do
							local _name = Ambiguate(GetGuildRosterInfo(i), "all");
							if string.lower(name) == string.lower(_name) then
								name = _name;
								IsInGuild = true;
							end
						end
						
						if not found then
							for i = 1, GetNumGroupMembers() do
								local _name = Ambiguate(GetGuildRosterInfo(i), "all");
								if string.lower(name) == string.lower(_name) then
									name = _name;
									IsInRaid = true;
								end
							end
						end
						
						if not IsInGuild and not IsInRaid then
							CEPGP_print("Could not find " .. name .. " in your guild or raid group", true);
							return;
						end
						
						local vInfo = {};
						
						vInfo = CEPGP_split(CEPGP_Info.Version.List[name][1], ".");
						
						if vInfo[3] and (vInfo[2] == "12" and "23" > vInfo[3]) then
							CEPGP_print(name .. " is running an incompatible version of CEPGP. They need to update before you can import settings from them.", true);
							return;
						end
						
						local request = {};
						local attr;
						
						local i = 1;
						local limit = 0;
						
						while _G["ImportCheckButton_" .. i] do
							limit = limit + 1;
							i = i + 1;
						end
						
						for i = 1, limit do
							local frame = _G["ImportCheckButton_" .. i];
							frame:Disable();
							if frame:GetChecked() then
								attr = frame:GetAttribute("varName");
								if attr == "Alt" then
									CEPGP.Alt.Links = {};
									CEPGP_UpdateAltScrollBar();
								end
								if attr == "Overrides" then
									CEPGP.Overrides = {};
									CEPGP_UpdateOverrideScrollBar();
								end
								if attr == "Standby" then
									CEPGP.Standby.Roster = {};
									if CEPGP_standby_options:IsVisible() then
										CEPGP_UpdateStandbyScrollBar();
									end
								end
								table.insert(request, {attr, _G["ImportCheckButton_" .. i .. "_text"]:GetText()});
							end
							i = i + 1;
						end
						
						if #request == 0 then
							for i = 1, limit do							
								local frame = _G["ImportCheckButton_" .. i];
								frame:Enable();
							end
							return;
						end
						
						CEPGP_settings_import_confirm:Disable();
						CEPGP_settings_import_verbose_check:Disable();
						CEPGP_settings_import:Hide();
						CEPGP_Info.Import.Source = name;
						CEPGP_addAddonMsg("ImportStart", "WHISPER", name);
						CEPGP_print("Starting import - please wait...");
						CEPGP_Info.Import.Running = true;
						for i = 1, #request do
							local message = "Import;" .. request[i][1];
							if CEPGP_Info.Import.Verbose then
								CEPGP_print("Requesting " .. request[i][2] .. " configuration");
							end
							CEPGP_addAddonMsg(message, "WHISPER", name);
						end
						CEPGP_addAddonMsg("ImportEnd", "WHISPER", name);
						C_Timer.After(#request * 2, function()
							CEPGP_settings_import_confirm:Enable();
							CEPGP_settings_import_verbose_check:Enable();
							for i = 1, limit do
								local frame = _G["ImportCheckButton_" .. i];
								frame:Enable();
							end
						end);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_settings_import_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_settings_import_confirm">
						<Offset>
							<AbsDimension x="-5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_settings_import_name:SetText("");
						HideUIPanel(CEPGP_settings_import);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="28" y="28" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_settings_import:Hide();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				CEPGP_settings_import_desc:SetText("Use this feature to import another player's CEPGP configuration.\n|cFFFF0000Warning! This will overwrite all of your existing settings!|r\nThe player must be in your guild or raid group");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_addAddonMsg("version-check", "GUILD");
				self:SetWidth(CEPGP_settings_import_desc:GetStringWidth()+50);
				local width, height = self:GetWidth(), self:GetHeight();
				local sf = CEPGP_settings_import_sf;
				local container = CEPGP_settings_import_sf_container;
				
				sf:SetWidth(width-40);
				sf:SetHeight(height/2);
				
				container:SetWidth(sf:GetWidth()-20);
				container:SetHeight(sf:GetHeight());
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_override" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="450" y="480"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_override_header" inherits="GameFontNormal" text="Item Override">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_desc" inherits="GameFontNormal" text=""> <!--Text intentionally left blank here because line breaks can only be added using LUA-->
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_name_string" inherits="GameFontNormal" text="Item Name">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="85" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_id_string" inherits="GameFontNormal" text="Item ID">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="40" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_gp_string" inherits="GameFontNormal" text="GP">
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-50" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="CEPGP_override_item_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="175" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_name_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnTabPressed>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_override_item_id" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="75" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_id_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnTabPressed>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Item ID can be found by searching for the item on classic.wowhead.com and grabbing it from the URL.\nFor exmaple: https://classic.wowhead.com/item=xxxxx (xxxxx will be the item ID).");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_override_item_gp" inherits="InputBoxTemplate" numeric="true">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_gp_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
						PlaySound(799);
						if CEPGP_override_item_name:GetText() == "" and CEPGP_override_item_id:GetText() == "" then
							CEPGP_print("Enter an item name or ID", true);
							return;
						end
						local gp;
						if CEPGP_override_item_gp:GetText() == "" then
							gp = 0;
						else
							gp = tonumber(CEPGP_override_item_gp:GetText());
						end
						if CEPGP_override_item_name:GetText() ~= "" then
							local item = CEPGP_standardiseString(CEPGP_override_item_name:GetText());
							if (CEPGP.Overrides[item] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[item] then
								CEPGP.Overrides[item] = gp;
								CEPGP_print("GP value for " .. item .. " has been overriden to " .. gp);
								CEPGP_UpdateOverrideScrollBar();
								CEPGP_Info.Override.ConfirmOverwrite = false;
								CEPGP_override_item_name:SetText("");
								CEPGP_override_item_name:ClearFocus();
								CEPGP_override_item_gp:SetText("");
								CEPGP_override_item_gp:ClearFocus();
								return;
							else
								CEPGP_print(item .. " has already been overridden to " .. CEPGP.Overrides[item] .. ". Click add again to change self to " .. gp);
								CEPGP_Info.Override.ConfirmOverwrite = true;
							end
						elseif CEPGP_override_item_id:GetText() ~= "" then
							local id = tonumber(CEPGP_override_item_id:GetText());
							local link = CEPGP_getItemLink(id);
							if not link and CEPGP_itemExists(id) then
								local item = Item:CreateFromItemID(id);
								item:ContinueOnItemLoad(function()
									link = CEPGP_getItemLink(id);
									if (CEPGP.Overrides[link] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[link] then
										CEPGP.Overrides[link] = gp;
										CEPGP_print("GP value for " .. link .. " |c006969FFhas been overriden to " .. gp);
										CEPGP_UpdateOverrideScrollBar();
										CEPGP_Info.Override.ConfirmOverwrite = false;
										CEPGP_override_item_id:SetText("");
										CEPGP_override_item_id:ClearFocus();
										CEPGP_override_item_name:SetText("");
										CEPGP_override_item_name:ClearFocus();
										CEPGP_override_item_gp:SetText("");
										CEPGP_override_item_gp:ClearFocus();
										return;
									else
										CEPGP_print(link .. " has already been overridden to " .. CEPGP.Overrides[link] .. "|c006969FF. Click add again to change self to " .. gp);
										CEPGP_Info.Override.ConfirmOverwrite = true;
									end
								end);
							elseif CEPGP_itemExists(id) then
								if (CEPGP.Overrides[link] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[link] then
									CEPGP.Overrides[link] = gp;
									CEPGP_print("GP value for " .. link .. " |c006969FFhas been overriden to " .. gp);
									CEPGP_UpdateOverrideScrollBar();
									CEPGP_Info.Override.ConfirmOverwrite = false;
									CEPGP_override_item_id:SetText("");
									CEPGP_override_item_id:ClearFocus();
									CEPGP_override_item_name:SetText("");
									CEPGP_override_item_name:ClearFocus();
									CEPGP_override_item_gp:SetText("");
									CEPGP_override_item_gp:ClearFocus();
									return;
								else
									CEPGP_print(link .. " has already been overridden to " .. CEPGP.Overrides[link] .. "|c006969FF. Click add again to change self to " .. gp);
									CEPGP_Info.Override.ConfirmOverwrite = true;
								end
							else
								CEPGP_print("No item exists for item ID " .. id, true);
							end
						end
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_name:SetFocus();
					</OnTabPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_override_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_override:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_override_confirm" inherits="GameMenuButtonTemplate" text="Add Override">
				<Size>
					<AbsDimension x="150" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="TOP">
						<Offset>
							<AbsDimension x="0" y="-115"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if CEPGP_override_item_name:GetText() == "" and CEPGP_override_item_id:GetText() == "" then
							CEPGP_print("Enter an item name or ID", true);
							return;
						end
						local gp;
						if CEPGP_override_item_gp:GetText() == "" then
							gp = 0;
						else
							gp = tonumber(CEPGP_override_item_gp:GetText());
						end
						if CEPGP_override_item_name:GetText() ~= "" then
							local item = CEPGP_standardiseString(CEPGP_override_item_name:GetText());
							local _, iString = GetItemInfo(item);
							if iString then item = iString; end
							if (CEPGP.Overrides[item] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[item] then
								CEPGP.Overrides[item] = gp;
								CEPGP_print("GP value for " .. item .. " has been overriden to " .. gp);
								CEPGP_UpdateOverrideScrollBar();
								CEPGP_Info.Override.ConfirmOverwrite = false;
								CEPGP_override_item_name:SetText("");
								CEPGP_override_item_name:ClearFocus();
								CEPGP_override_item_gp:SetText("");
								CEPGP_override_item_gp:ClearFocus();
								return;
							else
								CEPGP_print(item .. " has already been overridden to " .. CEPGP.Overrides[item] .. ". Click add again to change self to " .. gp);
								CEPGP_Info.Override.ConfirmOverwrite = true;
							end
						elseif CEPGP_override_item_id:GetText() ~= "" then
							local id = tonumber(CEPGP_override_item_id:GetText());
							--local _, link = GetItemInfo(id);
							local link = CEPGP_getItemLink(id);
							if not link and CEPGP_itemExists(id) then
								local item = Item:CreateFromItemID(id);
								item:ContinueOnItemLoad(function()
									--_, link = GetItemInfo(id);
									link = CEPGP_getItemLink(id);
									if (CEPGP.Overrides[link] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[link] then
										CEPGP.Overrides[link] = gp;
										CEPGP_print("GP value for " .. link .. " |c006969FFhas been overriden to " .. gp);
										CEPGP_UpdateOverrideScrollBar();
										CEPGP_Info.Override.ConfirmOverwrite = false;
										CEPGP_override_item_id:SetText("");
										CEPGP_override_item_id:ClearFocus();
										CEPGP_override_item_name:SetText("");
										CEPGP_override_item_name:ClearFocus();
										CEPGP_override_item_gp:SetText("");
										CEPGP_override_item_gp:ClearFocus();
										return;
									else
										CEPGP_print(link .. " has already been overridden to " .. CEPGP.Overrides[link] .. "|c006969FF. Click add again to change self to " .. gp);
										CEPGP_Info.Override.ConfirmOverwrite = true;
									end
								end);
							elseif CEPGP_itemExists(id) then
								if (CEPGP.Overrides[link] and CEPGP_Info.Override.ConfirmOverwrite) or not CEPGP.Overrides[link] then
									CEPGP.Overrides[link] = gp;
									CEPGP_print("GP value for " .. link .. " |c006969FFhas been overriden to " .. gp);
									CEPGP_UpdateOverrideScrollBar();
									CEPGP_Info.Override.ConfirmOverwrite = false;
									CEPGP_override_item_id:SetText("");
									CEPGP_override_item_id:ClearFocus();
									CEPGP_override_item_name:SetText("");
									CEPGP_override_item_name:ClearFocus();
									CEPGP_override_item_gp:SetText("");
									CEPGP_override_item_gp:ClearFocus();
									return;
								else
									CEPGP_print(link .. " has already been overridden to " .. CEPGP.Overrides[link] .. "|c006969FF. Click add again to change self to " .. gp);
									CEPGP_Info.Override.ConfirmOverwrite = true;
								end
							else
								CEPGP_print("No item exists for item ID " .. id, true);
							end
						end
					</OnClick>
					<OnHide>
						CEPGP_override_item_name:SetText("");
						CEPGP_override_item_gp:SetText("");
						CEPGP_Info.Override.ConfirmOverwrite = false;
					</OnHide>
				</Scripts>
			</Button>
			<ScrollFrame name="OverrideScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="410" y="320" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="7.5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_override_scrollframe_container">
						<Size>
							<AbsDimension x="410" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				CEPGP_override_desc:SetText("This window allows you to override the gp value\nof an item to what ever you specify.\n|c00FF0000Only enter either an item name OR an item ID|r");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_UpdateOverrideScrollBar();
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_traffic" frameStrata="HIGH" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="950" y="480"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Attributes>
			<Attribute name="page" type="int" value="0" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_traffic_header" inherits="GameFontNormalSmall" text="EPGP Traffic">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_search_text" inherits="GameFontNormalSmall" text="Search: ">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="15" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_desc" inherits="GameFontNormalSmall" text="A record of the EPGP traffic in your guild">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_name" inherits="GameFontNormalSmall" text="Player" />
				<FontString name="CEPGP_traffic_issuer" inherits="GameFontNormalSmall" text="Issued By" />
				<FontString name="CEPGP_traffic_action" inherits="GameFontNormalSmall" text="Action" />
				<FontString name="CEPGP_traffic_epb" inherits="GameFontNormalSmall" text="EP Before /" />
				<FontString name="CEPGP_traffic_epa" inherits="GameFontNormalSmall" text="EP After" />
				<FontString name="CEPGP_traffic_gpb" inherits="GameFontNormalSmall" text="GP Before /" />
				<FontString name="CEPGP_traffic_gpa" inherits="GameFontNormalSmall" text="GP After" />
				<FontString name="$parent_display" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
							<AbsDimension x="0" y="-5" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="$parent_search" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="225" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_search_text">
						<AbsDimension x="15" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
					</OnEscapePressed>
					<OnTextChanged>
						CEPGP_UpdateTrafficScrollBar();
					</OnTextChanged>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_traffic_clear_button" inherits="GameMenuButtonTemplate" text="Clear EPGP Traffic">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="10" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if CEPGP_Info.Traffic.ConfirmClear then
							CEPGP.Traffic = {};
							CEPGP_UpdateTrafficScrollBar();
							CEPGP_print("EPGP traffic wiped");
							CEPGP_Info.Traffic.ConfirmClear = false;
						else
							CEPGP_print("You are trying to clear your EPGP traffic log. This action cannot be reversed.");
							CEPGP_print("Press Clear EPGP traffic again to confirm");
							CEPGP_Info.Traffic.ConfirmClear = true;
						end
					</OnClick>
					<OnHide>
						CEPGP_Info.Traffic.ConfirmClear = false;
					</OnHide>
				</Scripts>
			</Button>
			<Button name="CEPGP_traffic_share" inherits="GameMenuButtonTemplate" text="Share All Entries">
				<Size>
					<AbsDimension x="125" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_clear_button">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture name="$parent_share_info_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
							<Size>
								<AbsDimension x="25" y="25" />
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" />
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button name="$parent_share_info">
						<Size>
							<AbsDimension x="25" y="25" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent_share_info_texture" />
						</Anchors>
						<Scripts>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("|c000077BEWhy can't I share some traffic entries?|r\nSome traffic entries cannot be shared because they are missing information which was added in version 1.12.10.\nIf a traffic entry was added before you (or your loot master) started using this version, it cannot be shared.\n\nAnother reason why you can't share a certain traffic entry is because the entry might contain malformed data.\nThe best way to avoid this is to ensure that you and your loot master are running the latest version of CEPGP.\n\n|c00FF0000Why is this taking so long?|r\nTo try to avoid disconnecting you, CEPGP transmits traffic entries at a rate of approximately one log per 0.1 seconds. You currently have " .. #CEPGP.Traffic .. " entries.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if #CEPGP.Traffic == 0 then return; end
						local success, failMsg = pcall(function()
							self:Disable();
							local i = #CEPGP.Traffic;
							local limit = #CEPGP.Traffic;
							if CEPGP_Info.Traffic.Sharing then return; end
							
							CEPGP_Info.Traffic.Sharing = true;
							CEPGP_addAddonMsg("CEPGP_TRAFFICSyncStart;"..limit, "GUILD");
							
							CEPGP_print("Sharing all traffic logs, please wait. This process will start in 10 seconds.");
							CEPGP_traffic_share_status:SetText("Preparing to send traffic entries");
							C_Timer.After(10, function()
								C_Timer.NewTicker(0.1, function()
									local ID, GUID;
									local player, issuer, action, EPB, EPA, GPB, GPA, itemID, tStamp;
									
									if CEPGP.Traffic[i][9] and CEPGP.Traffic[i][10] and CEPGP.Traffic[i][11] and tonumber(CEPGP.Traffic[i][9]) ~= tonumber(CEPGP.Traffic[i][10]) then
										
										player = CEPGP.Traffic[i][1];
										issuer = CEPGP.Traffic[i][2];
										action = CEPGP.Traffic[i][3];
										EPB = CEPGP.Traffic[i][4] or "";
										EPA = CEPGP.Traffic[i][5] or "";
										GPB = CEPGP.Traffic[i][6] or "";
										GPA = CEPGP.Traffic[i][7] or "";
										itemID = CEPGP_getItemID(CEPGP_getItemString(CEPGP.Traffic[i][8])) or "";
										tStamp = CEPGP.Traffic[i][9];
										ID = CEPGP.Traffic[i][10];
										GUID = CEPGP.Traffic[i][11];
										
										
										local str = player .. ";" .. issuer .. ";" .. action .. ";" .. EPB .. ";" .. EPA .. ";" .. GPB .. ";" .. GPA .. ";" .. itemID .. ";" .. tStamp .. ";" .. ID .. ";" .. GUID;
										CEPGP_addAddonMsg("CEPGP_TRAFFIC;" .. player .. ";" .. issuer .. ";" .. action .. ";" .. EPB .. ";" .. EPA .. ";" .. GPB .. ";" .. GPA .. ";" .. itemID .. ";" .. tStamp .. ";" .. ID .. ";" .. GUID, "GUILD");
										CEPGP_traffic_share_status:SetText(limit-(i-1) .. " entries sent");
									end
									i = i - 1;
									if i == 1 then
										CEPGP_Info.Traffic.Sharing = false;
										
										C_Timer.After(5, function()
											CEPGP_addAddonMsg("CEPGP_TRAFFICSyncStop", "GUILD");
											CEPGP_traffic_share_status:SetText("Finished sending traffic entries");
											CEPGP_print("Traffic logs have been shared");
											self:Enable();
										end);
									end
								end, limit);
							end);
						end);
						
						if not success then
							CEPGP_print("Unable to share all traffic logs!", true);
							CEPGP_print(failMsg);
						end
					</OnClick>
				</Scripts>
			</Button>
			<EditBox name="CEPGP_traffic_share_status" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="225" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_share">
						<AbsDimension x="30" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:Disable();
					</OnLoad>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_traffic_previous" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="115" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_share_status">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_Info.TrafficScope = math.min(CEPGP_Info.TrafficScope-500, #CEPGP.Traffic);
						CEPGP_UpdateTrafficScrollBar();
						CEPGP_traffic_next:Enable();
						
						if 500 > #CEPGP.Traffic - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("Next");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("Last " .. #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("Next 500");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("Previous");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("First 500");
						else
							CEPGP_traffic_previous:SetText("Previous 500");
						end
					</OnClick>
					<OnShow>
						if 500 > #CEPGP.Traffic - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("Next");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("Last " .. #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("Next 500");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("Previous");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("First 500");
						else
							CEPGP_traffic_previous:SetText("Previous 500");
						end
					</OnShow>
				</Scripts>
			</Button>
			<Button name="CEPGP_traffic_next" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="115" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_previous">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_Info.TrafficScope = math.min(CEPGP_Info.TrafficScope+500, #CEPGP.Traffic);
						CEPGP_UpdateTrafficScrollBar();
						CEPGP_traffic_previous:Enable();
						
						local page = CEPGP_traffic:GetAttribute("page");
						CEPGP_traffic:SetAttribute("page", page+1);
						
						if 500 > #CEPGP.Traffic - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("Next");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("Last " .. #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("Next 500");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("Previous");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("First 500");
						else
							CEPGP_traffic_previous:SetText("Previous 500");
						end
					</OnClick>
					<OnShow>
						if 500 > #CEPGP.Traffic - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("Next");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("Last " .. #CEPGP.Traffic - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("Next 500");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("Previous");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("First 500");
						else
							CEPGP_traffic_previous:SetText("Previous 500");
						end
					</OnShow>
				</Scripts>
			</Button>
			
			<Button name="CEPGP_traffic_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_traffic);
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="trafficScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="875" y="320"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="7.5" y="-105"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_traffic_scrollframe_container">
						<Size>
							<AbsDimension x="740" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				self:EnableKeyboard(true);
				CEPGP_traffic_name:SetPoint("BOTTOMLEFT", trafficScrollFrame, "TOPLEFT", 7.5, 5);
				CEPGP_traffic_issuer:SetPoint("LEFT", CEPGP_traffic_name, "LEFT", 100, 0);
				CEPGP_traffic_action:SetPoint("LEFT", CEPGP_traffic_issuer, "LEFT", 375, 0);
				CEPGP_traffic_epb:SetPoint("LEFT", CEPGP_traffic_action, "LEFT", 50, 0);
				CEPGP_traffic_epa:SetPoint("LEFT", CEPGP_traffic_epb, "LEFT", 60, 0);
				CEPGP_traffic_gpb:SetPoint("LEFT", CEPGP_traffic_epa, "LEFT", 50, 0);
				CEPGP_traffic_gpa:SetPoint("LEFT", CEPGP_traffic_gpb, "LEFT", 60, 0);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_UpdateTrafficScrollBar();
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_notice_frame" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="0" y="350" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_notice_title" inherits="GameFontNormal" text="Notice">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_notice_text" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_notice_accept" inherits="GameMenuButtonTemplate" text="Got it!">
				<Size>
					<AbsDimension x="150" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="75" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP.Notice = true;
						ReloadUI();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_notice_cancel" inherits="GameMenuButtonTemplate" text="NOPE. Abort!">
				<Size>
					<AbsDimension x="150" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="-75" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						DisableAddOn("CEPGP");
						ReloadUI();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				CEPGP_notice_text:SetText("Thank you for choosing to use Classic EPGP!\nI hope that you enjoy using this addon and I hope that it helps your guild\nhow ever you end up using it.\n\nJust one thing you should know - this addon needs to have\nfull control over your officer notes to maintain EPGP records.\nMeaning, as this addon attempts to maintain your records, it will overwrite\nany existing officer notes. Similarly, if you want your guild members to\nbe able to see their EP and GP values, they need to be able to see\nofficer notes too. Essentially, the addon can only see what you can see.\n\nThis addon is designed and really does work best if your\nyour whole guild (or at least your raid team) has it installed.\nThis will provide you with functions like loot council support\nand being able to see what items your raid members are wearing\nwhen you're distributing items.\n\nI hope you enjoy using the addon and if you have any feature requests or\nfind a bug, please submit a ticket on the addon GitHub page:\ngithub.com/Alumian/CEPGP-Retail");
				CEPGP_notice_frame:SetWidth(CEPGP_notice_text:GetStringWidth()+25);
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_attendance" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<size>
			<AbsDimension x="650" y="425" />
		</size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_attendance_title" inherits="GameFontNormal" text="Raid Attendance">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_attendance_desc" inherits="GameFontNormal" text="Snapshot Summary">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-25" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_attendance_standby_text" inherits="GameFontNormal" text="Standby List" hidden="true">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="15" y="-55" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_attendance_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_attendance:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_record" inherits="GameMenuButtonTemplate" text="Record Snapshot">
				<Size>
					<AbsDimension x="125" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-12" y="12"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_recordAttendance();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Records a snapshot of the players currently in your raid group.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_dropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="-5" y="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						CEPGP_attendanceDropdown();
						UIDropDownMenu_SetWidth(self, 140);
					</OnShow>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_attendanceDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_record_view" inherits="GameMenuButtonTemplate" text="Filter by Snapshot">
				<Size>
					<AbsDimension x="130" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_attendance_dropdown">
						<Offset>
							<AbsDimension x="-12" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown) == nil then
							return;
						end
						if UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown) == 0 then
							CEPGP_Info.Attendance.SelectedSnapshot = nil;
							CEPGP_attendance_desc:SetText("Snapshot Summary");
						else
							CEPGP_Info.Attendance.SelectedSnapshot = UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown);
							CEPGP_attendance_desc:SetText("Viewing Snapshot: " .. date("%A %d %B, %Y, %H:%M", CEPGP.Attendance[CEPGP_Info.Attendance.SelectedSnapshot][1]));
						end
						CEPGP_UpdateAttendanceScrollBar();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Filters the records to show you only the players\nthat were present in the selected snapshot.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_delete" inherits="GameMenuButtonTemplate" text="Delete Snapshot">
				<Size>
					<AbsDimension x="125" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_attendance_record_view">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_deleteAttendance();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Deletes the snapshot currently selected in the dropdown menu.\nThis may be different from the snapshot you're currently viewing.\n\n|c00FF0000Warning: This action cannot be undone!|r");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_name" inherits="CEPGPHeaderButton" text="Name">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-55" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(1, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_rank" inherits="CEPGPHeaderButton" text="Rank">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_name" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="50" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(12, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_number" inherits="CEPGPHeaderButton" text="">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_rank" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="85" y="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("Raids\nAttended");
					</OnLoad>
					<OnClick>
						CEPGP_setCriteria(12, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_total" inherits="CEPGPHeaderButton" text="Total Snapshots Recorded:" justifyH="LEFT">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="72.5" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						local total = CEPGP_ntgetn(CEPGP.Attendance);
						self:SetText("Total Snapshots Recorded: " .. total);
					</OnShow>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_7" inherits="CEPGPHeaderButton" text="7">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_number" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="25" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(5, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_14" inherits="CEPGPHeaderButton" text="14">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_7" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(6, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_30" inherits="CEPGPHeaderButton" text="30">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_14" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(7, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_60" inherits="CEPGPHeaderButton" text="60">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_30" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(8, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_90" inherits="CEPGPHeaderButton" text="90">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_60" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(9, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_days" inherits="CEPGPHeaderButton" text="Days">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativeTo="CEPGP_attendance_header_interval_30" relativePoint="TOP">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
			<ScrollFrame name="CEPGP_attendance_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="600" y="315"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="CEPGP_attendance" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="-35" y="-20"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_attendance_scrollframe_container">
						<Size>
							<AbsDimension x="620" y="315" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<ScrollFrame name="CEPGP_attendance_scrollframe_standby" inherits="UIPanelScrollFrameTemplate" hidden="true">
				<Size>
					<AbsDimension x="600" y="100"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_attendance_standby_text" />
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_attendance_scrollframe_standby_container">
						<Size>
							<AbsDimension x="600" y="100" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_respond" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<size>
			<AbsDimension x="420" y="150" />
		</size>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="CEPGP_respond_texture">
					<Size>
						<AbsDimension x="30" y="30" />
					</Size>
					<Anchors>
						<Anchor point="LEFT">
							<Offset>
								<AbsDimension x="16" y="5" />
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="CEPGP_respond_title" inherits="GameFontNormal" text="Distributing Item">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_item_name" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_texture">
							<Offset>
								<AbsDimension x="10" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_gp" inherits="GameFontNormal" text="GP">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-30" y="-40" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_gp_value" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_respond_gp">
							<Offset>
								<AbsDimension x="0" y="-12.5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_gp_change" inherits="GameFontNormalSmall" text="0">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_respond_gp_value">
							<Offset>
								<AbsDimension x="0" y="-12.5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_timeout_string" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="12.5" y="-12.5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_respond_texture_frame">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativeTo="CEPGP_respond_texture" relativePoint="CENTER" />
				</Anchors>
			</Button>
			<Button name="CEPGP_respond_item_name_frame">
				<Size>
					<AbsDimension x="228" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_texture_frame">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
			<Button name="CEPGP_respond_1" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Loot.GUID = CEPGP_Info.Loot.GUID or "";	<!--	Useful for if the loot master doesn't have the latest version	-->
						CEPGP_addAddonMsg("LootRsp;1;" .. CEPGP_Info.Loot.GUID, "WHISPER", CEPGP_Info.Loot.Master);
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_2" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_1">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Loot.GUID = CEPGP_Info.Loot.GUID or "";
						CEPGP_addAddonMsg("LootRsp;2;" .. CEPGP_Info.Loot.GUID, "WHISPER", CEPGP_Info.Loot.Master);
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_3" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_2">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Loot.GUID = CEPGP_Info.Loot.GUID or "";
						CEPGP_addAddonMsg("LootRsp;3;" .. CEPGP_Info.Loot.GUID, "WHISPER", CEPGP_Info.Loot.Master);
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_4" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_3">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Loot.GUID = CEPGP_Info.Loot.GUID or "";
						CEPGP_addAddonMsg("LootRsp;4;" .. CEPGP_Info.Loot.GUID, "WHISPER", CEPGP_Info.Loot.Master);
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_pass" inherits="GameMenuButtonTemplate" text="Pass">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-10" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Loot.GUID = CEPGP_Info.Loot.GUID or "";
						CEPGP_addAddonMsg("LootRsp;6;" .. CEPGP_Info.Loot.GUID, "WHISPER", CEPGP_Info.Loot.Master);
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_export" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="600" y="275" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Attributes>
			<Attribute name="format" type="string" value="CSV" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_export_title" inherits="GameFontNormal" text="Export EPGP">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_export_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_export_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_export:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="CEPGP_export_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="340" y="175"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="15" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_export_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_export_scrollframe:GetSize());
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
				<Scripts>
					<OnLoad>
						self:SetScrollChild(CEPGP_export_dump);
					</OnLoad>
				</Scripts>
			</ScrollFrame>
			<Button name="CEPGP_export_csv" inherits="GameMenuButtonTemplate" text="Format to CSV">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_export_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export:SetAttribute("format", "CSV");
						CEPGP_formatExport();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Changes export format to CSV");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_export_json" inherits="GameMenuButtonTemplate" text="Format to JSON">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_export_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export:SetAttribute("format", "JSON");
						CEPGP_formatExport();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Changes export format to JSON.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_highlight" inherits="GameMenuButtonTemplate" text="Highlight Output">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_export_csv">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export_dump:HighlightText();
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="CEPGP_export_options">
				<Size>
					<AbsDimension x="200" y="240" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_export_attr_class" inherits="GameFontNormal" text="Class">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="0" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_rank" inherits="GameFontNormal" text="Guild Rank">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_export_attr_class">
									<Offset>
										<AbsDimension x="20" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_PR" inherits="GameFontNormal" text="Priority">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_export_attr_rank">
									<Offset>
										<AbsDimension x="20" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_trailing" inherits="GameFontNormal" text="Trailing Comma">
							<Anchors>
								<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_class">
									<Offset>
										<AbsDimension x="0" y="-30"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<CheckButton name="CEPGP_export_class_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_class">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Add classes to the exported fields.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_rank_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_rank">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Add guild ranks to the exported fields.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_PR_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_PR">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Add priority to the exported fields.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_trailing_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_trailing">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Add a trailing comma at the end of each record.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
				</Frames>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				--CEPGP_Info.IgnoreUpdates = true;
				if GetNumGuildMembers() > CEPGP_ntgetn(CEPGP_Info.Guild.Roster) and CEPGP_Info.Guild.Polling then
					CEPGP_export_dump:SetText("Scanning guild roster. Please wait...");
					CEPGP_Info.RosterStack["Export"] = CEPGP_formatExport;
					--table.insert(CEPGP_Info.RosterStack, CEPGP_formatExport);
				else
					CEPGP_formatExport();
				end
				CEPGP_localise(self);
			</OnShow>
			<OnHide>
				--CEPGP_Info.IgnoreUpdates = false;
			</OnHide>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_confirmation" parent="UIParent" hidden="true" enableMouse="true" toplevel="true" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="100" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_confirmation_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_confirmation_yes" inherits="GameMenuButtonTemplate" text="Yes">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Active[1] = true;
						CEPGP_confirmation:Hide();
						CEPGP_Info.Active[2] = true;
						CEPGP_toggleMinimapState(true);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_confirmation_no" inherits="GameMenuButtonTemplate" text="No">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Active[1] = false;
						CEPGP_confirmation:Hide();
						CEPGP_Info.Active[2] = true;
						CEPGP_toggleMinimapState(false);
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				CEPGP_confirmation_desc:SetText("Would you like to use CEPGP for this raid?");
			</OnLoad>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_standby_addRank" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="200" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_standby_addRank_1" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="25" y="-50"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_2" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_1">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_3" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_2">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_4" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_3">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_5" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_4">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_6" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_1">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_7" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_6">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_8" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_7">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_9" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_8">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_10" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_9">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_standby_addRank_1_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_1">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_2_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_2">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_3_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_3">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_4_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_4">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_5_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_5">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_6_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_6">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_7_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_7">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_8_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_8">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_9_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_9">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_10_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_10">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="CEPGP_standby_addRank_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_standby_addRank_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_standby_addRank:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow inherit="prepend">
				for i = 1, 10 do
					if GuildControlGetRankName(i) ~= "" then
						_G["CEPGP_standby_addRank_"..i]:Show();
						_G["CEPGP_standby_addRank_"..i.."_check"]:Show();
						_G["CEPGP_standby_addRank_"..i]:SetText(GuildControlGetRankName(i));
					else
						_G["CEPGP_standby_addRank_"..i]:Hide();
						_G["CEPGP_standby_addRank_"..i.."_check"]:Hide();
						_G["CEPGP_standby_addRank_"..i.."_check"]:SetChecked(false);
					end
				end
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_rank_exclude" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="300" y="200" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_rank_exclude_header" inherits="GameFontNormal" text="Rank Exclusions">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_rank_exclude_desc" inherits="GameFontNormal" text="Exclude ranks from EPGP modifications">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_rank_exclude_header">
							<Offset>
								<AbsDimension x="0" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_1" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="25" y="-50"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_2" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_1">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_3" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_2">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_4" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_3">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_5" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_4">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_6" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_1">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_7" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_6">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_8" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_7">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_9" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_8">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_10" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_9">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_exclude_rank_1_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_1">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_2_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_2">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_3_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_3">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_4_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_4">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_5_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_5">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_6_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_6">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_7_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_7">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_8_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_8">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_9_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_9">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_10_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_10">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="CEPGP_exclude_rank_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_exclude_rank_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rank_exclude:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow>
				for i = 1, 10 do
					if GuildControlGetRankName(i) ~= "" then
						_G["CEPGP_exclude_rank_"..i]:Show();
						_G["CEPGP_exclude_rank_"..i.."_check"]:Show();
						_G["CEPGP_exclude_rank_"..i]:SetText(GuildControlGetRankName(i));
					else
						_G["CEPGP_exclude_rank_"..i]:Hide();
						_G["CEPGP_exclude_rank_"..i.."_check"]:Hide();
						_G["CEPGP_exclude_rank_"..i.."_check"]:SetChecked(false);
					end
					
					_G["CEPGP_exclude_rank_"..i.."_check"]:SetChecked(CEPGP.Guild.Exclusions[i]);
				end
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_rank_filter" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension y="270" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_rank_filter_header" inherits="GameFontNormal" text="Guild List Filtering">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_rank_filter_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_rank_filter_header">
							<Offset>
								<AbsDimension x="0" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_1" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_rank_filter_desc">
							<Offset>
								<AbsDimension x="0" y="-10"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_2" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_1">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_3" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_2">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_4" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_3">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_5" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_4">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_6" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_1">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_7" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_6">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_8" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_7">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_9" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_8">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_filter_rank_10" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_filter_rank_9">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_filter_rank_1_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_1">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_2_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_2">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_3_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_3">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_4_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_4">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_5_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_5">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_6_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_6">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_7_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_7">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_8_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_8">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_9_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_9">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_filter_rank_10_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_filter_rank_10">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="CEPGP_filter_rank_confirm" inherits="GameMenuButtonTemplate" text="Confirm">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_filter_rank_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rank_filter:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow>
				for i = 1, 10 do
					if GuildControlGetRankName(i) ~= "" then
						_G["CEPGP_filter_rank_"..i]:Show();
						_G["CEPGP_filter_rank_"..i.."_check"]:Show();
						_G["CEPGP_filter_rank_"..i]:SetText(GuildControlGetRankName(i));
					else
						_G["CEPGP_filter_rank_"..i]:Hide();
						_G["CEPGP_filter_rank_"..i.."_check"]:Hide();
						_G["CEPGP_filter_rank_"..i.."_check"]:SetChecked(false);
					end
					
					_G["CEPGP_filter_rank_"..i.."_check"]:SetChecked(CEPGP.Guild.Filter[i]);
				end
				CEPGP_localise(self);
			</OnShow>
			<OnLoad inherit="prepend">
				CEPGP_rank_filter_desc:SetText("Want to hide a rank from the guild list?\nTick the box next to the rank you want to hide.\n\nNote: This will not exclude the rank from decay!\nTo exclude a rank from EPGP modifications,\nsee the rank exclusions menu in options.");
				self:SetWidth(CEPGP_rank_filter_desc:GetStringWidth()+40);
			</OnLoad>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_import" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="600" y="275" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Attributes>
			<Attribute name="format" type="string" value="CSV" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="Import EPGP">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_import:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="$parent_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="340" y="175"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="15" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_import_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="$parent_clickhere" inherits="GameFontNormal" text="Click Here to Type">
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
											<Offset>
												<AbsDimension x="0" y="0"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_import_scrollframe:GetSize());
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnTextChanged>
								if #self:GetText() > 0 then
									CEPGP_import_dump_clickhere:Hide();
								else
									CEPGP_import_dump_clickhere:Show();
								end
							</OnTextChanged>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
				<Scripts>
					<OnLoad>
						self:SetScrollChild(CEPGP_import_dump);
					</OnLoad>
				</Scripts>
			</ScrollFrame>
			<ScrollFrame name="$parent_progress_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="170" y="85"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-35" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_import_progress_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_import_progress_scrollframe:GetSize());
								self:Disable();
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
						</Scripts>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="Import Standings">
				<Size>
					<AbsDimension x="150" y="35" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_importStandings();
						CEPGP_import_dump:ClearFocus();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Processes the CSV string supplied and updates your guild standings.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Frame name="$parent_guide">
				<Size>
					<AbsDimension x="200" y="240" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" />
				</Anchors>
			</Frame>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_import_guide_text" inherits="GameFontNormal" text="" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="$parent_scrollframe">
							<Offset>
								<AbsDimension x="40" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad inherit="prepend">
				CEPGP_import_guide_text:SetText("Paste a CSV formatted string in to\nthe box on the left and then\nclick the \"Import Standings\" button\nto confirm the changes.\nThe expected format to use is:\nplayer,EP,GP, (Include the\ntrailing comma after GP).\n\nA record of your guild standings\nwill be automatically saved incase\nyou need to revert the changes.");
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_roll_award_confirm" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size>
			<AbsDimension x="400" y="100" />
		</Size>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Attributes>
			<Attribute name="guid" type="string" value="" />
			<Attribute name="name" type="string" value="" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="300" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="Award to Highest Roller">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_yes" inherits="GameMenuButtonTemplate" text="Give for Full Price">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_Info.Loot.GiveWithEPGP = true;
						CEPGP_Info.Loot.AwardRate = 1;
						CEPGP_distribute_popup:SetAttribute("responseName", "Highest Roll");
						CEPGP_Info.Loot.AwardGP = true;
						CEPGP_distribute_popup_give();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_yes_free" inherits="GameMenuButtonTemplate" text="Give for Free">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_Info.Loot.GiveWithEPGP = true;
						CEPGP_Info.Loot.AwardRate = 1;
						CEPGP_distribute_popup:SetAttribute("responseName", "Highest Roll (Free)");
						CEPGP_Info.Loot.AwardGP = false;
						CEPGP_distribute_popup_give();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_no" inherits="GameMenuButtonTemplate" text="No">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_Info.DistTarget = "";
						CEPGP_Info.Loot.GiveWithEPGP = false;
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnHide>
				CEPGP_Info.Loot.GiveWithEPGP = false;
			</OnHide>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_license" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_heading" inherits="GameFontNormal" text="Classic EPGP End User License Agreement"/>
				<FontString name="$parent_content" inherits="GameFontNormalSmall" justifyH="LEFT"/>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_license:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				local heading, content = CEPGP_license_heading, CEPGP_license_content;
				heading:SetPoint("TOP", 0, -20);
				content:SetPoint("TOPLEFT", 20, -40);
				local info = "The contents of this addon, excluding third-party resources, are copyrighted by the author with all rights reserved.\n\nDefinitions:\n1. \"The Software\" refers to CEPGP (Classic EPGP).\n2. \"Dependent Code\" refers to the requirement of having CEPGP listed as a dependency in the AddOn .toc (table of contents) file.\n\nThe author of this addon ehreby grants you the following rights:\n\n1. You may download this addon and run it for the intended purpose as an AddOn for World of Warcraft®.\n2. You may make modifications to the software for private use only, you may not publish or distribute any modified portion of the software.\n3. You may produce independent AddOns which use the software as dependent code for the purposes of:\n    a. Making use of functions provided by the software or\n    b. Modifying the behaviour of the software\n4. Do not modify the name of this addon, including the addon folders.\n5. This copyright notice shall be included in all copies or substantial portions of the Software.\n\nAll rights not explicitly addressed in this license are reserved by the copyright holder.\n\nBy using the software you are acknowledging that you understand and agree with the above terms and conditions.";
				content:SetText(info);
				self:SetWidth(content:GetStringWidth()+40);
				self:SetHeight(heading:GetStringHeight() + content:GetStringHeight() + 50);
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_raid_modifiers" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" inherits="BackdropTemplate">
		<Size x="250" y="300" />
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_POPUP" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_heading" inherits="GameFontNormalLarge" text="Global Raid GP Modifiers">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP" x="0" y="-15" />
					</Anchors>
				</FontString>
				<FontString name="$parent_description" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_heading" y="-10" />
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="28" y="28" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_raid_modifiers:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<EditBox name="$parent_Molten Core" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="25" y="-100" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Molten Core" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_value" inherits="GameFontNormalSmall" text="% of Normal Value">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent" x="-10" y="5" />
							</Anchors>
						</FontString>
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="Molten Core">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Naxxramas"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Onyxia's Lair"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Onyxia's Lair" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Molten Core" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Onyxia's Lair" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="Onyxia's Lair">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Molten Core"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Blackwing Lair"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Blackwing Lair" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Onyxia's Lair" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Blackwing Lair" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="Blackwing Lair">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Onyxia's Lair"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Zul'Gurub"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Zul'Gurub" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Blackwing Lair" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Zul'Gurub" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="Zul'Gurub">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Blackwing Lair"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_The Ruins of Ahn'Qiraj"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_The Ruins of Ahn'Qiraj" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Zul'Gurub" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="The Ruins of Ahn'Qiraj" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="The Ruins of Ahn'Qiraj">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Zul'Gurub"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_The Temple of Ahn'Qiraj"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_The Temple of Ahn'Qiraj" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_The Ruins of Ahn'Qiraj" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="The Temple of Ahn'Qiraj" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="The Temple of Ahn'Qiraj">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_The Ruins of Ahn'Qiraj"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Naxxramas"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Naxxramas" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_The Temple of Ahn'Qiraj" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Naxxramas" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="Naxxramas">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_The Temple of Ahn'Qiraj"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Molten Core"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				local desc = "Change these numbers to adjust\nthe value of all boss and standard\ntrash drops in each raid";
				_G[self:GetName() .. "_description"]:SetText(desc);
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_bag_items_frame" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true" hidden="true" inherits="BackdropTemplate">
		<Size x="200" y="250" />
		<KeyValues>
			<KeyValue key="backdropInfo" value="CEPGP_BACKDROP_BAGITEMS" type="global" />
			<KeyValue key="backdropColor" value="CEPGP_BLACK" type="global" />
		</KeyValues>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Frames>
			<Frame name="$parent_top">
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="TOP" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_bag_items_heading" inherits="GameFontNormalSmall" text="Tradeable Items">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
						<Line name="CEPGP_options_gp_divider" thickness="1">
							<Color r="1.0" g="0.82" b="0" />
							<StartAnchor relativePoint="BOTTOMLEFT" relativeTo="CEPGP_bag_items_heading" />
							<EndAnchor relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_bag_items_heading" />
						</Line>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						local parent = self:GetParent();
						self:SetPoint("TOP", parent, "TOP", 0, -parent:GetHeight()*0.05);
					</OnLoad>
				</Scripts>
			</Frame>
			<Frame name="$parent_bottom">
				<Size x="1" y="1" />
				<Frames>
					<ScrollFrame name="CEPGP_bag_items_scrollframe">
						<Size x="1" y="1" />
						<Anchors>
							<Anchor point="TOPLEFT" />
						</Anchors>
						<ScrollChild>
							<Frame name="$parent_container">
								
							</Frame>
						</ScrollChild>
					</ScrollFrame>
				</Frames>
				<Scripts>
					<OnLoad>
						local parent = self:GetParent();
						self:SetPoint("TOP", _G[parent:GetName() .. "_top"], "BOTTOM", 0, -parent:GetHeight()*0.05);
					</OnLoad>
				</Scripts>
			</Frame>
			<Button name="$parent_announce" inherits="GameMenuButtonTemplate" text="Announce Items">
			</Button>
			<Button name="$parent_cancel" inherits="GameMenuButtonTemplate" text="Cancel">
			</Button>
		</Frames>
		<Scripts>
			<OnLoad inherit="prepend">
				self:RegisterForDrag("LeftButton");
				
				--[[	Frame Sizing	]]--
				local width, height = self:GetWidth(), self:GetHeight();
				
				CEPGP_bag_items_frame_top:SetSize(width*0.9, height*0.1);
				CEPGP_bag_items_frame_bottom:SetSize(width*0.9, height*0.6);
				CEPGP_bag_items_scrollframe:SetSize(CEPGP_bag_items_frame_bottom:GetWidth()*0.9, CEPGP_bag_items_frame_bottom:GetHeight());
				CEPGP_bag_items_scrollframe_container:SetSize(CEPGP_bag_items_scrollframe:GetWidth(), CEPGP_bag_items_scrollframe:GetHeight());
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_interface_options" hidden="true">
		<Anchors>
			<Anchor point="TOPRIGHT" />
		</Anchors>
		<Frames>
			<Frame>
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_interface_options_version" inherits="GameFontNormalLarge" text="">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_interface_options_author" inherits="GameFontNormalSmall" text="Author: Alumian">
							<Anchors>
								<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_interface_options_version">
									<AbsDimension x="0" y="-10" />
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_interface_options_changelog" inherits="GameMenuButtonTemplate" text="View Changelog">
						<Size x="125" y="21" />
						<Anchors>
							<Anchor point="TOPLEFT" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_changelog:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_interface_options_license" inherits="GameMenuButtonTemplate" text="View EULA">
						<Size x="125" y="21" />
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_interface_options_changelog" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_license:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_interface_options_exclusions" inherits="GameMenuButtonTemplate" text="Rank Exclusions">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_rank_exclude:Show();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Exclude certain ranks from EPGP modifications");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_interface_options_import" inherits="GameMenuButtonTemplate" text="Import Settings">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_interface_options_exclusions" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								ShowUIPanel(CEPGP_settings_import);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Import CEPGP configuration from a guild member, overwriting your own.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								--CEPGP_interface_options_force_sync:SetPoint("BOTTOMLEFT", "CEPGP_interface_options", "BOTTOMLEFT", 10, 10);
							</OnShow>
						</Scripts>
					</Button>
					<ScrollFrame name="CEPGP_interface_options_scrollframe" inehrits="UIPanelScrollFrameTemplate">
						<Size x="1" y="1" />
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_interface_options_author" y="-20" />
						</Anchors>
						<ScrollChild>
							<Frame name="$parent_container">
								<Size x="1" y="1" />
								<Frames>
									<Button name="CEPGP_interface_options_force_sync_button" inherits="GameMenuButtonTemplate">
										<Size y="21" />
										<Anchors>
											<Anchor point="TOPRIGHT" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="Send Configuration">
													<Anchors>
														<Anchor point="CENTER" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												PlaySound(799);
												if not IsInGuild() then
													CEPGP_print("You are not in a guild - Configuration could not be sent!", true);
													return;
												end
												
												self:Disable();
												CEPGP_settings_import_confirm:Disable();
												CEPGP_addAddonMsg("SyncStart", "GUILD");
												CEPGP_print("Sending configuration to guild members - please wait...");
											
												CEPGP_SyncConfig();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Sends your CEPGP configuration to guild members with 'Allow Rank to Manage Addon Configuration' enabled.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</Button>
									<CheckButton name="CEPGP_interface_options_forced_sync_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="CEPGPOptionString" text="Enable Remote Addon Management" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												local function toggle(expand)
													local targetheight = CEPGP_sync_rank_text:GetTop()-CEPGP_sync_accepted_rank_4_check:GetBottom();
													local counter = 1;
													local rate = 25;
													if expand then
														C_Timer.NewTicker(0.01, function()
															CEPGP_sync_accepted_ranks:SetHeight(CEPGP_sync_accepted_ranks:GetHeight()+targetheight/rate);
															if counter == rate then
																C_Timer.NewTicker(0.01, function()
																	CEPGP_sync_accepted_ranks:SetAlpha(CEPGP_sync_accepted_ranks:GetAlpha()+0.1);
																end, 10);
																self:Enable();
															end
															
															counter = counter + 1;
														end, rate);
													else
														C_Timer.NewTicker(0.01, function()
															CEPGP_sync_accepted_ranks:SetAlpha(CEPGP_sync_accepted_ranks:GetAlpha()-0.1);
														end, 10);
														
														C_Timer.NewTicker(0.01, function()
															CEPGP_sync_accepted_ranks:SetHeight(CEPGP_sync_accepted_ranks:GetHeight()-targetheight/rate);
															
															if counter == rate then
																self:Enable();
															end
															
															counter = counter + 1;
														end, rate);
													end
												end
												
												self:Disable();
												if self:GetChecked() and IsInGuild() then
													toggle(true);
												else
													toggle(false);
												end
												CEPGP.Sync[1] = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("When enabled, allows players of selected guild ranks to manage your CEPGP configuration");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</CheckButton>
									<Frame name="CEPGP_sync_accepted_ranks">
										<Size x="1" y="1" />
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_interface_options_forced_sync_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="CEPGP_sync_rank_text" inherits="GameFontNormal" text="Select Which Ranks Can Manage Your Configuration:">
													<Anchors>
														<Anchor point="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="CEPGP_sync_accepted_rank_1_check" inherits="CEPGPSyncRankCheckTemplate" id="0">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_rank_text" x="40"/>
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_2_check" inherits="CEPGPSyncRankCheckTemplate" id="1">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_1_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_3_check" inherits="CEPGPSyncRankCheckTemplate" id="2">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_2_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_4_check" inherits="CEPGPSyncRankCheckTemplate" id="3">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_3_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_5_check" inherits="CEPGPSyncRankCheckTemplate" id="4" />
											<CheckButton name="CEPGP_sync_accepted_rank_6_check" inherits="CEPGPSyncRankCheckTemplate" id="5">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_5_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_7_check" inherits="CEPGPSyncRankCheckTemplate" id="6">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_6_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_8_check" inherits="CEPGPSyncRankCheckTemplate" id="7" />
											<CheckButton name="CEPGP_sync_accepted_rank_9_check" inherits="CEPGPSyncRankCheckTemplate" id="8">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_8_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_sync_accepted_rank_10_check" inherits="CEPGPSyncRankCheckTemplate" id="9">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_rank_9_check" />
												</Anchors>
											</CheckButton>
										</Frames>
										<Scripts>
											<OnShow>
												CEPGP_sync_accepted_rank_5_check:SetPoint("LEFT", CEPGP_sync_accepted_rank_1_check, "RIGHT", CEPGP_sync_accepted_rank_1_check_text:GetStringWidth()+40, 0);
												CEPGP_sync_accepted_rank_8_check:SetPoint("LEFT", CEPGP_sync_accepted_rank_5_check, "RIGHT", CEPGP_sync_accepted_rank_5_check_text:GetStringWidth()+40, 0);
											</OnShow>
										</Scripts>
									</Frame>
									<CheckButton name="CEPGP_interface_options_display_minimap_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_sync_accepted_ranks" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="CEPGPOptionString" text="Display Minimap Button" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP_toggleMinimapButton();
											</OnClick>
											<OnShow>
												self:SetChecked(not CEPGP.Minimap.hide);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_interface_options_decay_independent_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_interface_options_display_minimap_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="CEPGPOptionString" text="Decay EP and GP Independently">
													<Anchors>
														<Anchor point="LEFT" relativePoint="RIGHT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												if self:GetChecked() then
													CEPGP.Decay.Separate = true;
													CEPGP_guild_decay_EP:Show();
													CEPGP_guild_decay_GP:Show();
													CEPGP_guild_decay:Hide();
												else
													CEPGP.Decay.Separate = false;
													CEPGP_guild_decay_EP:Hide();
													CEPGP_guild_decay_GP:Hide();
													CEPGP_guild_decay:Show();
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Allows your to decay EP and GP independently");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Decay.Separate);
											</OnShow>
										</Scripts>
									</CheckButton>
									<EditBox name="CEPGP_interface_options_poll_rate" inherits="InputBoxTemplate" autofocus="false">
										<Size>
											<AbsDimension x="60" y="21" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_interface_options_decay_independent_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="Roster Polling Rate">
												<Color r="1" g="1" b="1"/>
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
												<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
													<Size>
														<AbsDimension x="25" y="25" />
													</Size>
													<Anchors>
														<Anchor point="RIGHT" relativePoint="LEFT" />
													</Anchors>
												</Texture>
											</Layer>
										</Layers>
										<Frames>
											<Button name="$parent_info">
												<Size>
													<AbsDimension x="25" y="25" />
												</Size>
												<Anchors>
													<Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent_texture" />
												</Anchors>
												<Scripts>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Sets the speed in seconds that CEPGP scans the Guild and Raid roster for updates. The default value is 0.0001.\nThis will not change the frequency that the roster is scanned, but it will change how quickly it is scanned each time there is an update.\n\n|CFFFF0000Caution!|r\nSetting the poll rate to be too fast can cause small, frequent lag spikes.\nThe prevent stability issues, the minimum value permitted for this setting is 0.0001.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</Button>
										</Frames>
										<Scripts>
											<OnEnterPressed>
												self:ClearFocus()
											</OnEnterPressed>
											<OnEscapePressed>
												self:ClearFocus();
											</OnEscapePressed>
											<OnEditFocusLost>
												local value = self:GetText();
												
												if #value == 0 then
													self:SetText(CEPGP.PollRate);
													return;
												end
												
												if string.find(value, '[^0-9.]') then
													CEPGP_print("Enter a valid number", true);
													self:SetText(CEPGP.PollRate);
													return;
												end
												
												if value == "." then
													self:SetText(CEPGP.PollRate);
													return;
												end
												
												value = tonumber(value);
												
												if 0.0001 > tonumber(value) then
													CEPGP_print("Specify a rate faster than " .. value, true);
													self:SetText(CEPGP.PollRate);
													return;
												end
												
												CEPGP.PollRate = tonumber(value);
												CEPGP_Info.Guild.Polling = false;
												CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
											</OnEditFocusLost>
											<OnLoad>
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_text"]:GetStringHeight() - 10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</EditBox>
									<Frame name="CEPGP_interface_options_def_channel_dropdown" inherits="UIDropDownMenuTemplate">
										<Anchors>
											<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_sync_accepted_ranks" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="Reporting Channel">
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="16" y="3" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnShow>
												UIDropDownMenu_SetWidth(self, 140);
												CEPGP_defChannelDropdown();
											</OnShow>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Sets the channel that EPGP modifications are sent to.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnLoad>
												CEPGP_initDropdown(self, CEPGP_defChannelDropdown);
												
												local point, ref, relPoint, x, y = self:GetPoint();
												y = y - _G[self:GetName() .. "_text"]:GetStringHeight() - 5;
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</Frame>
								</Frames>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
				</Frames>
				<Scripts>
					<OnShow>
						local parent = self:GetParent();
						self:SetWidth(parent:GetWidth()-20);
						self:SetHeight(parent:GetHeight()-20);
						
						local frame = parent:GetName();
						local width = self:GetWidth();
						local height = self:GetHeight();
						
						CEPGP_interface_options_scrollframe:SetWidth(width-40);
						CEPGP_interface_options_scrollframe_container:SetWidth(width-40);
						CEPGP_interface_options_scrollframe:SetHeight(CEPGP_interface_options_author:GetBottom()-self:GetBottom()-20);
						CEPGP_interface_options_scrollframe_container:SetHeight(CEPGP_interface_options_scrollframe:GetHeight());
						
						CEPGP_sync_accepted_ranks:SetWidth(width-40);
						
						if IsInGuild() then
							if CEPGP.Sync[1] then
								CEPGP_sync_accepted_ranks:SetAlpha(1);
								CEPGP_sync_accepted_ranks:SetHeight(CEPGP_sync_rank_text:GetTop()-CEPGP_sync_accepted_rank_4_check:GetBottom());
							else
								CEPGP_sync_accepted_ranks:SetAlpha(0);
							end
						else
							CEPGP_sync_accepted_ranks:SetAlpha(0);
						end
						
						_G[frame .. "_forced_sync_check"]:SetChecked(CEPGP.Sync[1]);
						_G[frame .. "_force_sync_button"]:SetWidth(_G[frame .. "_force_sync_button_text"]:GetStringWidth()+20);
						_G[frame .. "_force_sync_button"]:SetHeight(_G[frame .. "_force_sync_button_text"]:GetStringHeight()+10);
						
						_G[frame .. "_poll_rate"]:SetText(CEPGP.PollRate);
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_options_alt_mangement" hidden="true">
		<Frames>
			<Frame>
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Frames>
					<ScrollFrame name="CEPGP_options_alt_mangement_ScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="550" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="5" y="-100"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="$parent_Container">
								<Size>
									<AbsDimension x="550" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<EditBox name="CEPGP_options_alt_mangement_main_link" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_alt_mangement_ScrollFrame">
								<Offset>
									<AbsDimension x="0" y="-30" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:SetAutoFocus(false);
							</OnLoad>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Specify the main character for the new link");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnTabPressed>
								CEPGP_options_alt_mangement_alt_link:SetFocus();
							</OnTabPressed>
							<OnEnterPressed>
								CEPGP_options_alt_mangement_alt_link:SetFocus();
							</OnEnterPressed>
						</Scripts>
					</EditBox>
					<EditBox name="CEPGP_options_alt_mangement_alt_link" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_alt_mangement_main_link">
								<Offset>
									<AbsDimension x="50" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:SetAutoFocus(false);
							</OnLoad>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Specify the alt character for the new link");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnTabPressed>
								CEPGP_options_alt_mangement_main_link:SetFocus();
							</OnTabPressed>
						</Scripts>
					</EditBox>
					<Button name="CEPGP_options_alt_mangement_add_link" inherits="GameMenuButtonTemplate" text="Add Character Link">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_alt_mangement_alt_link">
								<Offset>
									<AbsDimension x="50" y="21" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								local main = CEPGP_options_alt_mangement_main_link:GetText();
								local alt = CEPGP_options_alt_mangement_alt_link:GetText();
								
								if #main == 0 or #alt == 0 then return; end
								
								local mainIndex = CEPGP_getIndex(main);
								local altIndex = CEPGP_getIndex(alt);
								
								if not mainIndex then
									CEPGP_print(main .. " is not a guild member", true);
									return;
								end
								
								if not altIndex then
									CEPGP_print(alt .. " is not a guild member", true);
									return;
								end
								
								main = Ambiguate(GetGuildRosterInfo(mainIndex), "all");
								alt = Ambiguate(GetGuildRosterInfo(altIndex), "all");
								
								CEPGP_options_alt_mangement_main_link:SetText(main);
								CEPGP_options_alt_mangement_alt_link:SetText(alt);
								
								if main == alt then
									return;
								end
								
								PlaySound(799);
								CEPGP_addCharacterLink(main, alt);
								CEPGP_options_alt_mangement_main_link:ClearFocus();
								CEPGP_options_alt_mangement_alt_link:SetFocus();
								CEPGP_UpdateAltScrollBar();
							</OnClick>
							<OnEnter>
								GameTooltip:Show();
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Binds an alt to a main.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_options_alt_mangement_remove_link" inherits="GameMenuButtonTemplate" text="Remove Character Link">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_alt_mangement_alt_link">
								<Offset>
									<AbsDimension x="50" y="-1" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								local main = CEPGP_options_alt_mangement_main_link:GetText();
								local alt = CEPGP_options_alt_mangement_alt_link:GetText();
								
								if #main == 0 or #alt == 0 then return; end
								
								for k, v in pairs(CEPGP.Alt.Links) do
									if string.lower(main) == string.lower(k) then
										main = k;
										for _, a in pairs(CEPGP.Alt.Links[main]) do
											if string.lower(alt) == string.lower(a) then
												alt = a;
											end
										end
										break;
									end
								end
								
								if main == alt then
									return;
								end
								
								PlaySound(799);
								CEPGP_removeCharacterLink(main, alt);
								CEPGP_options_alt_mangement_main_link:ClearFocus();
								CEPGP_options_alt_mangement_alt_link:ClearFocus();
								CEPGP_UpdateAltScrollBar();
							</OnClick>
							<OnEnter>
								GameTooltip:Show();
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Releases an alt from a main.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_options_alt_mangement_remove_main" inherits="GameMenuButtonTemplate" text="Remove Main Character">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_alt_mangement_remove_link" />
						</Anchors>
						<Scripts>
							<OnClick>
								local main = CEPGP_options_alt_mangement_main_link:GetText();
								
								if #main == 0 then return; end
								
								for k, v in pairs(CEPGP.Alt.Links) do
									if string.lower(main) == string.lower(k) then
										main = k;
									end
								end
								
								PlaySound(799);
								CEPGP_removeCharacterLink(main);
								CEPGP_options_alt_mangement_main_link:ClearFocus();
								CEPGP_options_alt_mangement_alt_link:ClearFocus();
								CEPGP_UpdateAltScrollBar();
							</OnClick>
							<OnEnter>
								GameTooltip:Show();
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Removes a main character from the list and releases all attached alts.\nTo use this, ensure you only enter a main character and leave alt blank.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_options_alt_mangement_clear_fields" inherits="GameMenuButtonTemplate" text="Clear Fields">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_alt_mangement_remove_main" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_options_alt_mangement_main_link:SetText("");
								CEPGP_options_alt_mangement_alt_link:SetText("");
							</OnClick>
						</Scripts>
					</Button>
					<CheckButton name="CEPGP_options_alt_mangement_block_awarding" inherits="UIOptionsCheckButtonTemplate">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_alt_mangement_alt_link">
								<Offset>
									<AbsDimension x="5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								if self:GetChecked() then
									CEPGP.Alt.BlockAwards = true;
									CEPGP_print("Alts can no longer directly earn EPGP");
								else
									CEPGP.Alt.BlockAwards = false;
									CEPGP_print("Alts can now earn EPGP");
								end
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Block EPGP modifications on alts. When enabled, the only way that alts can have their EPGP standings changed\nis when the standings change on their main or when a decay or reset occurs.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP.Alt.BlockAwards then
									self:SetChecked(true);
								else
									self:SetChecked(false);
								end
							</OnShow>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_options_alt_mangement_sync_ep" inherits="UIOptionsCheckButtonTemplate">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_alt_mangement_block_awarding">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								if self:GetChecked() then
									CEPGP.Alt.SyncEP = true;
									CEPGP_print("Alt EP synchronisation enabled");
								else
									CEPGP.Alt.SyncEP = false;
									CEPGP_print("Alt EP synchronisation disabled");
								end
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("When enabled, alts will have the same EP as their mains");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP.Alt.SyncEP then
									self:SetChecked(true);
								else
									self:SetChecked(false);
								end
							</OnShow>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_options_alt_mangement_sync_gp" inherits="UIOptionsCheckButtonTemplate">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_alt_mangement_sync_ep">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								if self:GetChecked() then
									CEPGP.Alt.SyncGP = true;
									CEPGP_print("Alt GP synchronisation enabled");
								else
									CEPGP.Alt.SyncGP = false;
									CEPGP_print("Alt GP synchronisation disabled");
								end
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("When enabled, alts will have the same GP as their mains");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP.Alt.SyncGP then
									self:SetChecked(true);
								else
									self:SetChecked(false);
								end
							</OnShow>
						</Scripts>
					</CheckButton>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_alt_mangement_header" inherits="GameFontNormalLarge" text="Alt Management">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_desc" inherits="GameFontNormal" text="">
							<Anchors>
								<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_alt_mangement_header">
									<AbsDimension x="0" y="-20" />
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_main_name" inherits="GameFontNormal" text="Mains">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="CEPGP_options_alt_mangement_ScrollFrame" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_alt_name" inherits="GameFontNormal" text="Alts">
							<Anchors>
								<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" relativeTo="CEPGP_options_alt_mangement_ScrollFrame" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_new_link" inherits="GameFontNormal" text="Add/Remove Character Link">
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_alt_mangement_ScrollFrame" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_new_main" inherits="GameFontNormal" text="Main">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="CEPGP_options_alt_mangement_main_link" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_new_alt" inherits="GameFontNormal" text="Alt">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="CEPGP_options_alt_mangement_alt_link" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_block_awarding_text" inherits="GameFontNormal" text="Block Alt EPGP Modifications">
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_alt_mangement_block_awarding">
									<AbsDimension x="-325" y="0" />
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_sync_ep_text" inherits="GameFontNormal" text="Synchronise Alt EP">
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_alt_mangement_sync_ep">
									<AbsDimension x="-325" y="0" />
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_alt_mangement_sync_gp_text" inherits="GameFontNormal" text="Synchronise Alt GP">
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_alt_mangement_sync_gp">
									<AbsDimension x="-325" y="0" />
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnShow>
						local parent = self:GetParent();
						
						self:SetWidth(parent:GetWidth()-20);
						self:SetHeight(parent:GetHeight()-20);
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				local frame = self:GetName();
				CEPGP_UpdateAltScrollBar();
				CEPGP_options_alt_mangement_desc:SetText("Links alt with mains");
				
				_G[frame .. "_block_awarding"]:SetChecked(CEPGP.Alt.BlockAwards);
				_G[frame .. "_sync_ep"]:SetChecked(CEPGP.Alt.SyncEP);
				_G[frame .. "_sync_gp"]:SetChecked(CEPGP.Alt.SyncGP);
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_EP_options" hidden="true">
		<Frames>
			<Frame>
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_EP_options_header" inherits="GameFontNormalLarge" text="Effort Point Management">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
						<FontString name="CEPGP_EP_options_autoaward_header" inherits="GameFontNormal" text="Auto Award">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
									<Offset>
										<AbsDimension x="-25" y="-120" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_EP_options_EP_header" inherits="GameFontNormal" text="EP">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_EP_options_autoaward_header">
									<Offset>
										<AbsDimension x="-40" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_EP_options_mc_button" inherits="GameMenuButtonTemplate" text="Molten Core / Onyxia">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-40" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_mc");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_bwl_button" inherits="GameMenuButtonTemplate" text="Blackwing Lair">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeto="CEPGP_EP_options_header">
								<Offset>
									<AbsDimension x="0" y="-10" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_bwl");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_zg_button" inherits="GameMenuButtonTemplate" text="Zul'Gurub">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
								<Offset>
									<AbsDimension x="-40" y="-40" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_zg");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_aq20_button" inherits="GameMenuButtonTemplate" text="The Ruins of Ahn'Qiraj">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="CEPGP_EP_options_mc_button" relativePoint="BOTTOM">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_aq20");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_aq40_button" inherits="GameMenuButtonTemplate" text="The Temple of Ahn'Qiraj">
						<Size>
							<AbsDimension x="175" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="CEPGP_EP_options_bwl_button" relativePoint="BOTTOM">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_aq40");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_naxx_button" inherits="GameMenuButtonTemplate" text="Naxxramas">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="CEPGP_EP_options_zg_button" relativePoint="BOTTOM">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_naxx");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_EP_options_world_button" inherits="GameMenuButtonTemplate" text="World Encounters">
						<Size>
							<AbsDimension x="150" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeTo="CEPGP_EP_options_aq40_button" relativePoint="BOTTOM">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);								
								CEPGP_toggleBossConfigFrame("CEPGP_EP_options_worldboss");
							</OnClick>
						</Scripts>
					</Button>
					<Frame name="CEPGP_EP_options_mc" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						<Frames>
							<CheckButton name="CEPGP_options_Lucifron_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Magmadar_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lucifron_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Gehennas_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Magmadar_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Garr_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gehennas_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Baron Geddon_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Garr_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Shazzrah_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Baron Geddon_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Sulfuron Harbinger_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Shazzrah_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Golemagg the Incinerator_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sulfuron Harbinger_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Majordomo Executus_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Golemagg the Incinerator_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ragnaros_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Majordomo Executus_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Onyxia_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ragnaros_auto_check">
										<AbsDimension x="0" y="-27.5" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_Lucifron_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Magmadar_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lucifron_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Gehennas_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Magmadar_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Garr_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gehennas_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Baron Geddon_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Garr_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Shazzrah_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Baron Geddon_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Sulfuron Harbinger_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Shazzrah_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Golemagg the Incinerator_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sulfuron Harbinger_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Majordomo Executus_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Golemagg the Incinerator_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ragnaros_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Majordomo Executus_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Onyxia_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ragnaros_EP_value">
										<AbsDimension x="0" y="-40" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_Lucifron_val" inherits="GameFontNormal" parentArray="bosses" text="Lucifron">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lucifron_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Magmadar_val" inherits="GameFontNormal" parentArray="bosses" text="Magmadar">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lucifron_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Gehennas_val" inherits="GameFontNormal" parentArray="bosses" text="Gehennas">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Magmadar_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Garr_val" inherits="GameFontNormal" parentArray="bosses" text="Garr">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gehennas_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Baron Geddon_val" inherits="GameFontNormal" parentArray="bosses" text="Baron Geddon">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Garr_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Shazzrah_val" inherits="GameFontNormal" parentArray="bosses" text="Shazzrah">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Baron Geddon_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Sulfuron Harbinger_val" inherits="GameFontNormal" parentArray="bosses" text="Sulfuron Harbinger">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Shazzrah_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Golemagg the Incinerator_val" inherits="GameFontNormal" parentArray="bosses" text="Golemagg the Incinerator">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Sulfuron Harbinger_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Majordomo Executus_val" inherits="GameFontNormal" parentArray="bosses" text="Majordomo Executus">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Golemagg the Incinerator_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ragnaros_val" inherits="GameFontNormal" parentArray="bosses" text="Ragnaros">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Majordomo Executus_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Onyxia_val" inherits="GameFontNormal" parentArray="bosses" text="Onyxia">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ragnaros_val">
											<Offset>
												<AbsDimension x="0" y="-40" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CEPGP_EP_options_bwl" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						<Frames>
							<CheckButton name="CEPGP_options_Razorgore the Untamed_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Vaelastrasz the Corrupt_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Razorgore the Untamed_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Broodlord Lashlayer_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Firemaw_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Broodlord Lashlayer_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ebonroc_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Firemaw_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Flamegor_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ebonroc_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Chromaggus_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Flamegor_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Nefarian_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Chromaggus_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_Razorgore the Untamed_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Vaelastrasz the Corrupt_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Razorgore the Untamed_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Broodlord Lashlayer_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Firemaw_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Broodlord Lashlayer_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ebonroc_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Firemaw_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Flamegor_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ebonroc_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Chromaggus_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Flamegor_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Nefarian_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Chromaggus_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_Razorgore the Untamed_val" inherits="GameFontNormal" parentArray="bosses" text="Razorgore the Untamed">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Razorgore the Untamed_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Vaelastrasz the Corrupt_val" inherits="GameFontNormal" parentArray="bosses" text="Vaelastrasz the Corrupt">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Razorgore the Untamed_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Broodlord Lashlayer_val" inherits="GameFontNormal" parentArray="bosses" text="Broodlord Lashlayer">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Firemaw_val" inherits="GameFontNormal" parentArray="bosses" text="Firemaw">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Broodlord Lashlayer_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ebonroc_val" inherits="GameFontNormal" parentArray="bosses" text="Ebonroc">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Firemaw_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Flamegor_val" inherits="GameFontNormal" parentArray="bosses" text="Flamegor">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ebonroc_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Chromaggus_val" inherits="GameFontNormal" parentArray="bosses" text="Chromaggus">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Flamegor_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Nefarian_val" inherits="GameFontNormal" parentArray="bosses" text="Nefarian">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Chromaggus_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CEPGP_EP_options_zg" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						
						<Frames>
							<CheckButton name="CEPGP_options_High Priest Venoxis_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_High Priestess Jeklik_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Venoxis_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_High Priestess Mar'li_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Jeklik_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_High Priest Thekal_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Mar'li_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_High Priestess Arlokk_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Thekal_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Edge of Madness_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Arlokk_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Bloodlord Mandokir_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Edge of Madness_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Jin'do the Hexxer_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Bloodlord Mandokir_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Gahz'ranka_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Jin'do the Hexxer_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Hakkar_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gahz'ranka_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_High Priest Venoxis_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_High Priestess Jeklik_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Venoxis_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_High Priestess Mar'li_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Jeklik_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_High Priest Thekal_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Mar'li_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_High Priestess Arlokk_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Thekal_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Edge of Madness_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Arlokk_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Bloodlord Mandokir_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Edge of Madness_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Jin'do the Hexxer_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Bloodlord Mandokir_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Gahz'ranka_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Jin'do the Hexxer_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Hakkar_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gahz'ranka_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_High Priest Venoxis_val" inherits="GameFontNormal" parentArray="bosses" text="High Priest Venoxis">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lucifron_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_High Priestess Jeklik_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Jeklik">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priest Venoxis_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_High Priestess Mar'li_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Mar'li">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Jeklik_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_High Priest Thekal_val" inherits="GameFontNormal" parentArray="bosses" text="High Priest Thekal">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Mar'li_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_High Priestess Arlokk_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Arlokk">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priest Thekal_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Edge of Madness_val" inherits="GameFontNormal" parentArray="bosses" text="The Edge of Madness">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Arlokk_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Bloodlord Mandokir_val" inherits="GameFontNormal" parentArray="bosses" text="Bloodlord Mandokir">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Edge of Madness_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Jin'do the Hexxer_val" inherits="GameFontNormal" parentArray="bosses" text="Jin'do the Hexxer">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Bloodlord Mandokir_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Gahz'ranka_val" inherits="GameFontNormal" parentArray="bosses" text="Gahz'ranka">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Jin'do the Hexxer_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Hakkar_val" inherits="GameFontNormal" parentArray="bosses" text="Hakkar">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gahz'ranka_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CEPGP_EP_options_aq20" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						
						<Frames>
							<CheckButton name="CEPGP_options_Kurinnaxx_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_General Rajaxx_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Kurinnaxx_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Moam_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_General Rajaxx_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Buru the Gorger_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Moam_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ayamiss the Hunter_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Buru the Gorger_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ossirian the Unscarred_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ayamiss the Hunter_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_Kurinnaxx_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_General Rajaxx_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Kurinnaxx_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Moam_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_General Rajaxx_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Buru the Gorger_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Moam_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ayamiss the Hunter_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Buru the Gorger_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ossirian the Unscarred_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ayamiss the Hunter_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_Kurinnaxx_val" inherits="GameFontNormal" parentArray="bosses" text="Kurinnaxx">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Kurinnaxx_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_General Rajaxx_val" inherits="GameFontNormal" parentArray="bosses" text="General Rajaxx">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Kurinnaxx_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Moam_val" inherits="GameFontNormal" parentArray="bosses" text="Moam">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_General Rajaxx_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Buru the Gorger_val" inherits="GameFontNormal" parentArray="bosses" text="Buru the Gorger">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Moam_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ayamiss the Hunter_val" inherits="GameFontNormal" parentArray="bosses" text="Ayamiss the Hunter">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Buru the Gorger_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ossirian the Unscarred_val" inherits="GameFontNormal" parentArray="bosses" text="Ossirian the Unscarred">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ayamiss the Hunter_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CEPGP_EP_options_aq40" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						
						<Frames>
							<CheckButton name="CEPGP_options_The Prophet Skeram_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Battleguard Sartura_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Prophet Skeram_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Fankriss the Unyielding_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Battleguard Sartura_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Princess Huhuran_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Fankriss the Unyielding_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_The Silithid Royalty_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Princess Huhuran_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Viscidus_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Silithid Royalty_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ouro_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Viscidus_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_The Twin Emperors_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ouro_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_C'Thun_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Twin Emperors_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_The Prophet Skeram_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Battleguard Sartura_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Prophet Skeram_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Fankriss the Unyielding_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Battleguard Sartura_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Princess Huhuran_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Fankriss the Unyielding_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_The Silithid Royalty_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Princess Huhuran_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Viscidus_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Silithid Royalty_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ouro_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Viscidus_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_The Twin Emperors_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ouro_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_C'Thun_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Twin Emperors_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_The Prophet Skeram_val" inherits="GameFontNormal" parentArray="bosses" text="The Prophet Skeram">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_The Prophet Skeram_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Battleguard Sartura_val" inherits="GameFontNormal" parentArray="bosses" text="Battleguard Sartura">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Prophet Skeram_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Fankriss the Unyielding_val" inherits="GameFontNormal" parentArray="bosses" text="Fankriss the Unyielding">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Battleguard Sartura_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Princess Huhuran_val" inherits="GameFontNormal" parentArray="bosses" text="Princess Huhuran">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Fankriss the Unyielding_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_The Silithid Royalty_val" inherits="GameFontNormal" parentArray="bosses" text="The Silithid Royalty">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Princess Huhuran_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Viscidus_val" inherits="GameFontNormal" parentArray="bosses" text="Viscidus">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Silithid Royalty_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ouro_val" inherits="GameFontNormal" parentArray="bosses" text="Ouro">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Viscidus_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_The Twin Emperors_val" inherits="GameFontNormal" parentArray="bosses" text="The Twin Emperors">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ouro_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_C'Thun_val" inherits="GameFontNormal" parentArray="bosses" text="C'Thun">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Twin Emperors_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CEPGP_EP_options_naxx" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						<Frames>
							<CheckButton name="CEPGP_options_Anub'Rekhan_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Grand Widow Faerlina_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Anub'Rekhan_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Maexxna_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grand Widow Faerlina_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Noth the Plaguebringer_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Maexxna_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Heigan the Unclean_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Noth the Plaguebringer_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Loatheb_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Heigan the Unclean_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Instructor Razuvious_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Loatheb_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Gothik the Harvester_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Instructor Razuvious_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_The Four Horsemen_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gothik the Harvester_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Patchwerk_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Four Horsemen_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Grobbulus_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Patchwerk_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Gluth_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grobbulus_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Thaddius_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gluth_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Sapphiron_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Thaddius_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Kel'Thuzad_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sapphiron_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_Anub'Rekhan_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Grand Widow Faerlina_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Anub'Rekhan_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Maexxna_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grand Widow Faerlina_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Noth the Plaguebringer_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Maexxna_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Heigan the Unclean_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Noth the Plaguebringer_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Loatheb_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Heigan the Unclean_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Instructor Razuvious_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Loatheb_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Gothik the Harvester_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Instructor Razuvious_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_The Four Horsemen_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gothik the Harvester_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Patchwerk_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Four Horsemen_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Grobbulus_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Patchwerk_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Gluth_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grobbulus_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Thaddius_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gluth_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Sapphiron_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Thaddius_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Kel'Thuzad_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sapphiron_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_Anub'Rekhan_val" inherits="GameFontNormal" parentArray="bosses" text="Anub'Rekhan">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Anub'Rekhan_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Grand Widow Faerlina_val" inherits="GameFontNormal" parentArray="bosses" text="Grand Widow Faerlina">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Anub'Rekhan_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Maexxna_val" inherits="GameFontNormal" parentArray="bosses" text="Maexxna">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Grand Widow Faerlina_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Noth the Plaguebringer_val" inherits="GameFontNormal" parentArray="bosses" text="Noth the Plaguebringer">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Maexxna_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Heigan the Unclean_val" inherits="GameFontNormal" parentArray="bosses" text="Heigan the Unclean">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Noth the Plaguebringer_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Loatheb_val" inherits="GameFontNormal" parentArray="bosses" text="Loatheb">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Heigan the Unclean_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Instructor Razuvious_val" inherits="GameFontNormal" parentArray="bosses" text="Instructor Razuvious">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Loatheb_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Gothik the Harvester_val" inherits="GameFontNormal" parentArray="bosses" text="Gothik the Harvester">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Instructor Razuvious_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_The Four Horsemen_val" inherits="GameFontNormal" parentArray="bosses" text="The Four Horsemen">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gothik the Harvester_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Patchwerk_val" inherits="GameFontNormal" parentArray="bosses" text="Patchwerk">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Four Horsemen_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Grobbulus_val" inherits="GameFontNormal" parentArray="bosses" text="Grobbulus">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Patchwerk_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Gluth_val" inherits="GameFontNormal" parentArray="bosses" text="Gluth">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Grobbulus_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Thaddius_val" inherits="GameFontNormal" parentArray="bosses" text="Thaddius">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gluth_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Sapphiron_val" inherits="GameFontNormal" parentArray="bosses" text="Sapphiron">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Thaddius_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Kel'Thuzad_val" inherits="GameFontNormal" parentArray="bosses" text="Kel'Thuzad">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Sapphiron_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>

					</Frame>
					<Frame name="CEPGP_EP_options_worldboss" enableMouse="true" toplevel="true" hidden="true">
						<Size>
							<AbsDimension x="390" y="300" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-100" />
								</Offset>
							</Anchor>
						</Anchors>
						
						<Frames>
							<CheckButton name="CEPGP_options_Lord Kazzak_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
										<AbsDimension x="0" y="-10" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Azuregos_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lord Kazzak_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Emeriss_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Azuregos_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Lethon_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Emeriss_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Ysondre_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lethon_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							<CheckButton name="CEPGP_options_Taerar_auto_check" inherits="AutoAwardEPCheckBox">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ysondre_auto_check">
										<AbsDimension x="0" y="3" />
									</Anchor>
								</Anchors>
							</CheckButton>
							
							<EditBox name="CEPGP_options_Lord Kazzak_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
										<AbsDimension x="0" y="-15" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Azuregos_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lord Kazzak_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Emeriss_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Azuregos_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Lethon_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Emeriss_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Ysondre_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lethon_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
							<EditBox name="CEPGP_options_Taerar_EP_value" inherits="epValInputBoxTemplate">
								<Anchors>
									<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ysondre_EP_value">
										<AbsDimension x="0" y="-12.5" />
									</Anchor>
								</Anchors>
							</EditBox>
						</Frames>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="CEPGP_options_Lord Kazzak_val" inherits="GameFontNormal" parentArray="bosses" text="Lord Kazzak">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lord Kazzak_EP_value">
											<Offset>
												<AbsDimension x="-400" y="0" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Azuregos_val" inherits="GameFontNormal" parentArray="bosses" text="Azuregos">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lord Kazzak_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Emeriss_val" inherits="GameFontNormal" parentArray="bosses" text="Emeriss">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Azuregos_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Lethon_val" inherits="GameFontNormal" parentArray="bosses" text="Lethon">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Emeriss_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Ysondre_val" inherits="GameFontNormal" parentArray="bosses" text="Ysondre">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lethon_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
								<FontString name="CEPGP_options_Taerar_val" inherits="GameFontNormal" parentArray="bosses" text="Taerar">
									<Color r="1" g="1" b="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ysondre_val">
											<Offset>
												<AbsDimension x="0" y="-10" />
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</Frame>
				</Frames>
				<Scripts>
					<OnShow>
						local parent = self:GetParent();
						
						self:SetWidth(parent:GetWidth()-20);
						self:SetHeight(parent:GetHeight()-20);
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_toggleBossConfigFrame("CEPGP_EP_options_mc");
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_GP_options" hidden="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
		</Anchors>
		<Frames>
			<Frame>
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_GP_options_header" inherits="GameFontNormalLarge" text="Gear Point Management">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="CEPGP_GP_Options_Scrollframe" inherits="UIPanelScrollFrameTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_GP_options_header"/>
						</Anchors>
						<ScrollChild>
							<Frame name="$parent_container">
								<Frames>
									<Button name="CEPGP_GP_options_raid_override" inherits="GameMenuButtonTemplate" text="Raid Modifiers">
										<Size x="125" y="21" />
										<Anchors>
											<Anchor point="TOPLEFT" />
										</Anchors>
										<Scripts>
											<OnClick>
												CEPGP_raid_modifiers:Show();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Apply a GP modifier for items in each raid");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</Button>
									<Button name="CEPGP_button_options_CEPGP_override" inherits="GameMenuButtonTemplate" text="Override Settings">
										<Size>
											<AbsDimension x="125" y="21" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_GP_options_raid_override">
												<Offset>
													<AbsDimension x="0" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												PlaySound(799);
												CEPGP_override:Show();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Allows you to create permanent overrides for item GP values.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</Button>
									<Frame name="CEPGP_options_gp_formula">
										<Size x="1" y="20" />
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_options_CEPGP_override" x="10" y="-20" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_title" inherits="GameFontNormalLarge" text="GP Formula">
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<EditBox name="CEPGP_options_coef_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="40" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_text" inherits="GameFontNormal" text=" x( ">
															<Color r="1" g="1" b="1"/>
															<Anchors>
																<Anchor point="LEFT" relativePoint="RIGHT" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														if not CEPGP_isNumber(value) then
															CEPGP_print("Base number must contain numbers only", true);
															self:SetText(tostring(CEPGP.GP.Base));
														elseif value == "" then
															CEPGP_print("Base number cannot be blank", true);
															self:SetText(tostring(CEPGP.GP.Base));
														elseif tonumber(self:GetText()) == 0 then
															CEPGP_print("Base number cannot be 0", true);
															self:SetText(tostring(CEPGP.GP.Base));
														elseif CEPGP.GP.Base ~= tonumber(value) then
															CEPGP.GP.Base = tonumber(value);
														end
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="CEPGP_options_coef_2_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="40" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_coef_edit_text" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_text" inherits="GameFontNormal" text=" ^((ilvl/26)+(rarity-4)) x slot) x ">
															<Color r="1" g="1" b="1"/>
															<Anchors>
																<Anchor point="LEFT" relativePoint="RIGHT" />																/>
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														if not CEPGP_isNumber(value) then
															CEPGP_print("This field must contain numbers only", true);
															self:SetText(tostring(CEPGP.GP.Multiplier));
														elseif value == "" then
															CEPGP_print("This field cannot be blank", true);
															self:SetText(tostring(CEPGP.GP.Multiplier));
														elseif tonumber(self:GetText()) == 0 then
															CEPGP_print("This number cannot be 0", true);
															self:SetText(tostring(CEPGP.GP.Multiplier));
														elseif CEPGP.GP.Multiplier ~= tonumber(value) then
															CEPGP.GP.Multiplier = tonumber(value);
														end
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="CEPGP_options_mod_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="40" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_coef_2_edit_text" />
												</Anchors>
												<Scripts>
													<OnLoad>
														CEPGP_options_mod_edit:SetAutoFocus(false);
													</OnLoad>
													<OnEnterPressed>
														CEPGP_options_mod_edit:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														if not CEPGP_isNumber(value) then
															CEPGP_print("Multiplier must contain numbers only", true);
															self:SetText(tostring(CEPGP.GP.Mod));
														elseif value == "" then
															CEPGP_print("Multiplier cannot be blank", true);
															self:SetText(tostring(CEPGP.GP.Mod));
														elseif 0 >= tonumber(self:GetText()) then
															CEPGP_print("Multiplier cannot be 0", true);
															self:SetText(tostring(CEPGP.GP.Mod));
														elseif CEPGP.GP.Mod ~= tonumber(value) then
															CEPGP.GP.Mod = tonumber(value);
														end
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<Frame name="CEPGP_options_gp_info" inherits="CEPGPInfoFrameTemplate">
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_mod_edit" />
												</Anchors>
												<Scripts>
													<OnEnter>
														GameTooltip:Show();
														GameTooltip:SetOwner(self, "ANCHOR_TOPLEFT");
														GameTooltip:SetText("|cFFE6CC7FRarity|r\n\n|cFF9D9D9DPoor|r = 0\n|cFFFFFFFFCommon|r = 1\n|cFF1EFF00Uncommon|r = 2\n|cFF0070DDRare|r = 3\n|cFFA335EEEpic|r = 4\n|cFFFF8000Legendary|r = 5");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</Frame>
										</Frames>
									</Frame>
									<Frame name="CEPGP_options_slots_container">
										<Size>
											<AbsDimension x="1" y="1" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_gp_formula" y="-10" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="CEPGP_options_slot_weight_head" inherits="GameFontNormalLarge" text="Slot Modifiers">
													<Color r="0.95" g="0.75" b="0.26"/>
													<Anchors>
														<Anchor point="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<EditBox name="CEPGP_options_HEAD_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_slot_weight_head" y="-20"/>
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_NECK_weight" inherits="slotWeightInputBoxTemplate">
													<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_HEAD_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_SHOULDER_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_NECK_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_CLOAK_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_SHOULDER_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_CHEST_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_CLOAK_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_WRIST_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_CHEST_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_HAND_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_HEAD_weight" x="30" />
												</Anchors>
												<Attributes>
													<Attribute name="topLevel" type="boolean" value="true" />
												</Attributes>
											</EditBox>
											<EditBox name="CEPGP_options_WAIST_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_HAND_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_LEGS_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_WAIST_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_FEET_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_LEGS_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_FINGER_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_FEET_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_TRINKET_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_FINGER_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_WEAPONMAINHAND_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_HAND_weight" x="30" />
												</Anchors>
												<Attributes>
													<Attribute name="topLevel" type="boolean" value="true" />
												</Attributes>
											</EditBox>
											<EditBox name="CEPGP_options_WEAPONOFFHAND_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_WEAPONMAINHAND_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_HOLDABLE_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_WEAPONOFFHAND_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_WEAPON_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_HOLDABLE_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_2HWEAPON_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_WEAPON_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_SHIELD_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_2HWEAPON_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_RANGED_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_FINGER_weight" x="30" />
												</Anchors>
												<Attributes>
													<Attribute name="topLevel" type="boolean" value="true" />
												</Attributes>
											</EditBox>
											<EditBox name="CEPGP_options_RELIC_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_RANGED_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_THROWN_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_RELIC_weight" y="-25" />
												</Anchors>
											</EditBox>
											<EditBox name="CEPGP_options_WAND_weight" inherits="slotWeightInputBoxTemplate">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_THROWN_weight" y="-25" />
												</Anchors>
											</EditBox>
										</Frames>
									</Frame>
									<EditBox name="CEPGP_options_gp_initial" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="40" y="20" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_slots_container" y="-10" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormalSmall" text="Initial GP">
													<Color r="1" g="1" b="1"/>
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_text"]:GetStringHeight() - 10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Sets the GP that all players start at and the minimum GP that players can reach.\nNote: This change will not take effect until the player's GP is modified.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												if not CEPGP_isNumber(value) then
													CEPGP_print("Base GP must contain numbers only", true);
													self:SetText(tostring(CEPGP.GP.Min));
													return;
												elseif value == "" then
													CEPGP_print("Base GP cannot be blank", true);
													self:SetText(tostring(CEPGP.GP.Min));
													return;
												elseif tonumber(self:GetText()) == 0 then
													CEPGP_print("Base GP cannot be 0", true);
													self:SetText(tostring(CEPGP.GP.Min));
													return;
												elseif 0 > tonumber(self:GetText()) then
													CEPGP_print("Base GP must be a positive number", true);
													self:SetText(tostring(CEPGP.GP.Min));
													return;
												elseif CEPGP.GP.Min == tonumber(value) then
													return;
												end
												CEPGP.GP.Min = tonumber(value);
												CEPGP_print("Updated base GP");
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<CheckButton name="CEPGP_options_gp_base_decay_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_gp_initial" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="CEPGPOptionStringSmall" text="Apply Decay-Free Threshold" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.GP.DecayFactor = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("When enabled, applies a 'Decay-Free Threshold' equal to the minimum GP.\n\nFor example: A player with 100GP, minimum GP of 25 and a decay rate of 10%.\nThis option disabled: GP will decay 10% of 100.\nThis option enabled: GP will decay 10% of 75.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_options_gp_tooltips_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_gp_base_decay_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="CEPGPOptionStringSmall" text="GP Values on Tooltips" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.GP.Tooltips = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Shows GP values on tooltips based on your current GP formula.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.GP.Tooltips);
											</OnShow>
										</Scripts>
									</CheckButton>
								</Frames>
								<Layers>
									<Layer level="OVERLAY">
										<Line name="CEPGP_options_gp_divider" thickness="2">
											<Color r="1.0" g="0.82" b="0" />
											<StartAnchor relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_slots_container" y="-5"/>
											<EndAnchor relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slots_container" y="-5"/>
										</Line>
									</Layer>
								</Layers>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
				</Frames>
				<Scripts>
					<OnShow>
						local parent = self:GetParent();
						
						self:SetWidth(parent:GetWidth()-20);
						self:SetHeight(parent:GetHeight()-20);
						
						local width = self:GetWidth();
						local height = self:GetHeight();
						
						CEPGP_GP_Options_Scrollframe:SetWidth(width-40);
						CEPGP_GP_Options_Scrollframe_container:SetWidth(width-40)
						CEPGP_GP_Options_Scrollframe:SetHeight(height-20);
						CEPGP_GP_Options_Scrollframe_container:SetHeight(height-20);
						
						CEPGP_options_gp_formula:SetWidth(CEPGP_options_gp_info:GetRight()-CEPGP_options_gp_formula_title:GetLeft());
						CEPGP_options_slots_container:SetHeight(CEPGP_options_slot_weight_head:GetTop()-CEPGP_options_WRIST_weight:GetBottom()+10);
						CEPGP_options_slots_container:SetWidth(CEPGP_options_slots_container:GetParent():GetWidth());
						
						width = CEPGP_options_slots_container:GetWidth();
												
						CEPGP_options_HAND_weight:SetPoint("LEFT", "CEPGP_options_HEAD_weight", "RIGHT", width/6, 0);
						CEPGP_options_WEAPONMAINHAND_weight:SetPoint("LEFT", "CEPGP_options_HAND_weight", "RIGHT", width/6, 0);
						CEPGP_options_RANGED_weight:SetPoint("LEFT", "CEPGP_options_WEAPONMAINHAND_weight", "RIGHT", width/6, 0);
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				
				CEPGP_options_coef_edit:SetText(CEPGP.GP.Base);
				CEPGP_options_coef_2_edit:SetText(CEPGP.GP.Multiplier);
				CEPGP_options_mod_edit:SetText(CEPGP.GP.Mod);
				CEPGP_options_gp_initial:SetText(CEPGP.GP.Min);
				CEPGP_options_gp_base_decay_check:SetChecked(CEPGP.GP.DecayFactor);
				CEPGP_options_gp_tooltips_check:SetChecked(CEPGP.GP.Tooltips);
				
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_loot_options" hidden="true">
		<Frames>
			<Frame>
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Layers>
					<Layer level="HIGH">
						<FontString name="CEPGP_loot_options_head" inherits="GameFontNormalLarge" text="Loot Distribution">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="CEPGP_loot_options_scrollframe" inherits="UIPanelScrollFrameTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_head" />
						</Anchors>
						<ScrollChild>
							<Frame name="$parent_container">
								<Layers>
									<Layer level="HIGH">
										<FontString name="CEPGP_loot_options_loot_configuration_heading" inherits="GameFontNormalLarge" text="Response Configuration">
											<Anchors>
												<Anchor point="TOPPLEFT" />
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Frame name="CEPGP_loot_options_1">
										<Size>
											<AbsDimension x="275" y="90" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
												<AbsDimension x="12.5" y="-30" />
											</Anchor>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_string" inherits="GameFontNormal" text="Response 1">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
												<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="Enabled: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_text" inherits="GameFontNormal" text="Button Text: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP Discount: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="Keyphrase Alternative: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
														<Offset>
															<AbsDimension x="-5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:Disable();
													</OnLoad>
													<OnClick>
													</OnClick>
												</Scripts>
											</CheckButton>
											<EditBox name="$parent_text" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(15);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[1][2];
														if value == "" then
															self:SetText(default);
															CEPGP_print("Button text cannot be blank", true);
															return;
														elseif value == default then
															return;
														end
														if string.find(value, ";") then
															CEPGP_print("Button text cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														CEPGP.Loot.GUI.Buttons[1][2] = value;
														CEPGP_print("Updated loot GUI button 1 text.");
														CEPGP_loot_options_preview_1:SetText(value);
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_discount" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(4);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = tonumber(self:GetText());
														local default = CEPGP.Loot.GUI.Buttons[1][3];
														if not value or value == default then
															self:SetText(default);
															return;
														end
														if value > 100 then
															self:SetText(default);
															CEPGP_print("Discount cannot be more than 100%.", true);
															return;
														end
														CEPGP.Loot.GUI.Buttons[1][3] = value;
														CEPGP_print("Updated GP discount for button 1.");
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[1][4];
														
														if string.lower(value) == string.lower(default) then return; end
														
														for i = 1, 4 do
															if string.lower(value) == string.lower(CEPGP.Loot.GUI.Buttons[i][4]) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
															if string.lower(value) == string.lower(k) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														if value == "" then
															self:SetText(default);
															CEPGP_print("Response keyphrase cannot be blank", true);
															return;
														end
														
														if string.find(value, ";") then
															CEPGP_print("Keyword cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														
														CEPGP.Loot.GUI.Buttons[1][4] = value;
														CEPGP_print("Updated response 1 keyphrase.");
														
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
										</Frames>
									</Frame>
									<Frame name="CEPGP_loot_options_2">
										<Size>
											<AbsDimension x="275" y="110" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_1">
												<AbsDimension x="0" y="-20" />
											</Anchor>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_string" inherits="GameFontNormal" text="Response 2">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
												<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="Enabled: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_text" inherits="GameFontNormal" text="Button Text: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP Discount: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="Keyphrase Alternative: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
														<Offset>
															<AbsDimension x="-5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Loot.GUI.Buttons[2][1] = true;
															CEPGP_loot_options_preview_2:Show();
															CEPGP_print("Loot GUI button 2 enabled.");
														else
															CEPGP.Loot.GUI.Buttons[2][1] = false;
															CEPGP_loot_options_preview_2:Hide();
															CEPGP_print("Loot GUI button 2 disabled.");
														end
													</OnClick>
												</Scripts>
											</CheckButton>
											<EditBox name="$parent_text" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(15);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[2][2];
														if value == "" then
															self:SetText(default);
															CEPGP_print("Button text cannot be blank", true);
															return;
														elseif value == default then
															return;
														end
														if string.find(value, ";") then
															CEPGP_print("Button text cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														CEPGP.Loot.GUI.Buttons[2][2] = value;
														CEPGP_print("Updated loot GUI button 2 text.");
														CEPGP_loot_options_preview_2:SetText(value);
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_discount" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(4);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = tonumber(self:GetText());
														local default = CEPGP.Loot.GUI.Buttons[2][3];
														if not value or value == default then
															self:SetText(default);
															return;
														end
														if value > 100 then
															self:SetText(default);
															CEPGP_print("Discount cannot be more than 100%.", true);
															return;
														end
														CEPGP.Loot.GUI.Buttons[2][3] = value;
														CEPGP_print("Updated GP discount for button 2.");
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[2][4];
														
														if string.lower(value) == string.lower(default) then return; end
														
														for i = 1, 4 do
															if string.lower(value) == string.lower(CEPGP.Loot.GUI.Buttons[i][4]) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
															if string.lower(value) == string.lower(k) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														if value == "" then
															self:SetText(default);
															CEPGP_print("Response keyphrase cannot be blank", true);
															return;
														end
														
														if string.find(value, ";") then
															CEPGP_print("Keyword cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														
														CEPGP.Loot.GUI.Buttons[2][4] = value;
														CEPGP_print("Updated response 2 keyphrase.");
														
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
										</Frames>
									</Frame>
									<Frame name="CEPGP_loot_options_3">
										<Size>
											<AbsDimension x="275" y="90" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="CEPGP_loot_options_1">
												<AbsDimension x="0" y="0" />
											</Anchor>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_string" inherits="GameFontNormal" text="Response 3">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
												<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="Enabled: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_text" inherits="GameFontNormal" text="Button Text: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP Discount: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="Keyphrase Alternative: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
														<Offset>
															<AbsDimension x="-5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Loot.GUI.Buttons[3][1] = true;
															CEPGP_loot_options_preview_3:Show();
															CEPGP_print("Loot GUI button 3 enabled.");
														else
															CEPGP.Loot.GUI.Buttons[3][1] = false;
															CEPGP_loot_options_preview_3:Hide();
															CEPGP_print("Loot GUI button 3 disabled.");
														end
													</OnClick>
												</Scripts>
											</CheckButton>
											<EditBox name="$parent_text" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(15);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[3][2];
														if value == "" then
															self:SetText(default);
															CEPGP_print("Button text cannot be blank", true);
															return;
														elseif value == default then
															return;
														end
														if string.find(value, ";") then
															CEPGP_print("Button text cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														CEPGP.Loot.GUI.Buttons[3][2] = value;
														CEPGP_print("Updated loot GUI button 3 text.");
														CEPGP_loot_options_preview_3:SetText(value);
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_discount" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(4);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = tonumber(self:GetText());
														local default = CEPGP.Loot.GUI.Buttons[3][3];
														if not value or value == default then
															self:SetText(default);
															return;
														end
														if value > 100 then
															self:SetText(default);
															CEPGP_print("Discount cannot be more than 100%.", true);
															return;
														end
														CEPGP.Loot.GUI.Buttons[3][3] = value;
														CEPGP_print("Updated GP discount for button 3.");
													</OnEditFocusLost>
													<OnShow>
														self:SetText(tostring(CEPGP.Loot.GUI.Buttons[3][3]));
													</OnShow>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[3][4];
														
														if string.lower(value) == string.lower(default) then return; end
														
														for i = 1, 4 do
															if string.lower(value) == string.lower(CEPGP.Loot.GUI.Buttons[i][4]) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
															if string.lower(value) == string.lower(k) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														if value == "" then
															self:SetText(default);
															CEPGP_print("Response keyphrase cannot be blank", true);
															return;
														end
														
														if string.find(value, ";") then
															CEPGP_print("Keyword cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														
														CEPGP.Loot.GUI.Buttons[3][4] = value;
														CEPGP_print("Updated response 3 keyphrase.");
														
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
										</Frames>
									</Frame>
									<Frame name="CEPGP_loot_options_4">
										<Size>
											<AbsDimension x="275" y="110" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_3">
												<AbsDimension x="0" y="-20" />
											</Anchor>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_string" inherits="GameFontNormal" text="Response 4">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
												<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="Enabled: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_text" inherits="GameFontNormal" text="Button Text: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP Discount: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
												<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="Keyphrase Alternative: ">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
															<AbsDimension x="0" y="-7" />
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
														<Offset>
															<AbsDimension x="-5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Loot.GUI.Buttons[4][1] = true;
															CEPGP_loot_options_preview_4:Show();
															CEPGP_print("Loot GUI button 4 enabled.");
														else
															CEPGP.Loot.GUI.Buttons[4][1] = false;
															CEPGP_loot_options_preview_4:Hide();
															CEPGP_print("Loot GUI button 4 disabled.");
														end
													</OnClick>
												</Scripts>
											</CheckButton>
											<EditBox name="$parent_text" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(15);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[4][2];
														if value == "" then
															self:SetText(default);
															CEPGP_print("Button text cannot be blank", true);
															return;
														elseif value == default then
															return;
														end
														if string.find(value, ";") then
															CEPGP_print("Button text cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														CEPGP.Loot.GUI.Buttons[4][2] = value;
														CEPGP_print("Updated loot GUI button 4 text.");
														CEPGP_loot_options_preview_4:SetText(value);
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_discount" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														self:SetMaxLetters(4);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = tonumber(self:GetText());
														local default = CEPGP.Loot.GUI.Buttons[4][3];
														if not value or value == default then
															self:SetText(default);
															return;
														end
														if value > 100 then
															self:SetText(default);
															CEPGP_print("Discount cannot be more than 100%.", true);
															return;
														end
														CEPGP.Loot.GUI.Buttons[4][3] = value;
														CEPGP_print("Updated GP discount for button 4.");
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="120" y="20" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
														<Offset>
															<AbsDimension x="15" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														local default = CEPGP.Loot.GUI.Buttons[4][4];
														
														if string.lower(value) == string.lower(default) then return; end
														if string.find(value, ";") then
															CEPGP_print("Keyword cannot contain semicolons", true);
															self:SetText(default);
															return;
														end
														
														for i = 1, 4 do
															if string.lower(value) == string.lower(CEPGP.Loot.GUI.Buttons[i][4]) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
															if string.lower(value) == string.lower(k) then
																CEPGP_print("Keyword '" .. value .. "' is already in use", true);
																self:SetText(default);
																return;
															end
														end
														
														if value == "" then
															self:SetText(default);
															CEPGP_print("Response keyphrase cannot be blank", true);
															return;
														end
														
														CEPGP.Loot.GUI.Buttons[4][4] = value;
														CEPGP_print("Updated response 4 keyphrase.");
														
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
										</Frames>
									</Frame>
									<Frame name="CEPGP_loot_options_preview">
										<Size>
											<AbsDimension x="550" y="65" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_2" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_string" inherits="GameFontNormal" text="Preview">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<Button name="$parent_1" inherits="GameMenuButtonTemplate" text="">
												<Size>
													<AbsDimension x="100" y="31" />
												</Size>
												<Anchors>
													<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
														<Offset>
															<AbsDimension x="60" y="10" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
													</OnClick>
												</Scripts>
											</Button>
											<Button name="$parent_2" inherits="GameMenuButtonTemplate" text="">
												<Size>
													<AbsDimension x="100" y="31" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_1">
														<Offset>
															<AbsDimension x="7.5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
													</OnClick>
												</Scripts>
											</Button>
											<Button name="$parent_3" inherits="GameMenuButtonTemplate" text="">
												<Size>
													<AbsDimension x="100" y="31" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_2">
														<Offset>
															<AbsDimension x="7.5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
													</OnClick>
												</Scripts>
											</Button>
											<Button name="$parent_4" inherits="GameMenuButtonTemplate" text="">
												<Size>
													<AbsDimension x="100" y="31" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_3">
														<Offset>
															<AbsDimension x="7.5" y="0" />
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
													</OnClick>
												</Scripts>
											</Button>
										</Frames>
									</Frame>
									<CheckButton name="CEPGP_loot_options_keywords_enable" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_preview" x="0" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Enable Additional Keywords" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												local function toggle(expand)
													local targetheight = CEPGP_loot_options_keywords_scrollframe_label:GetTop()-CEPGP_loot_options_keywords_confirm:GetBottom()+10;
													local counter = 1;
													local rate = 25;
													local frame = CEPGP_loot_options_keywords;
													if expand then
														C_Timer.NewTicker(0.01, function()
															frame:SetHeight(frame:GetHeight()+targetheight/rate);
															if counter == rate then
																C_Timer.NewTicker(0.01, function()
																	frame:SetAlpha(frame:GetAlpha()+0.1);
																end, 10);
																self:Enable();
																CEPGP_loot_options_keywords_scrollframe:Show();
																for _, child in ipairs({CEPGP_loot_options_keywords:GetChildren()}) do
																	child:Show();
																end
															end
															
															counter = counter + 1;
														end, rate);
													else
														local ticker;
														ticker = C_Timer.NewTicker(0.01, function()
															frame:SetAlpha(frame:GetAlpha()-0.1);
															if ticker._remainingIterations == 1 then
																CEPGP_loot_options_keywords_scrollframe:Hide();
																C_Timer.NewTicker(0.01, function()
																	frame:SetHeight(frame:GetHeight()-targetheight/rate);
																	
																	if counter == rate then
																		self:Enable();
																		for _, child in ipairs({CEPGP_loot_options_keywords:GetChildren()}) do
																			child:Hide();
																		end
																	end
																	
																	counter = counter + 1;
																end, rate);
															end
														end, 10);
													end
												end
												
												local parent = self:GetParent();
												
												CEPGP.Loot.ExtraKeywords.Enabled = not CEPGP.Loot.ExtraKeywords.Enabled;
												if CEPGP.Loot.ExtraKeywords.Enabled then
													toggle(true);
													self:Disable();
												else
													toggle(false);
												end
											</OnClick>
											<OnShow>
												self:SetChecked(CEPGP.Loot.ExtraKeywords.Enabled);
											</OnShow>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("|c000077BELoot Master Feature|r\nNeed more than 4 loot buttons? Enable this option to add additional keywords for loot responses.\n\nAny keywords you use here will be announced when loot distribution starts regardless\nof whether or not you have checked 'Hide Keyphrase Alternatives in Loot Announcement'.");
											</OnEnter>
										</Scripts>
									</CheckButton>
									<Frame name="CEPGP_loot_options_keywords">
										<Size>
											<AbsDimension x="540" y="1" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_keywords_enable" />
										</Anchors>
										<Frames>
											<ScrollFrame name="$parent_scrollframe" inherits="UIPanelScrollFrameTemplate" hidden="true">
												<Size y="130" />
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="TOPLEFT" X="0" Y="-15"/>
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_label" inherits="GameFontNormal" text="Label">
															<Anchors>
																<Anchor point="TOPLEFT" x="0" y="10" />
															</Anchors>
														</FontString>
														<FontString name="$parent_keyword" inherits="GameFontNormal" text="Keyword" />
														<FontString name="$parent_discount" inherits="GameFontNormal" text="% Discount">
															<Anchors>
																<Anchor point="TOPRIGHT">
																	<Offset x="0" y="10" />
																</Anchor>
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<ScrollChild>
													<Frame name="$parent_container">
														<Size y="130" />
														<Frames>
														</Frames>
													</Frame>
												</ScrollChild>
											</ScrollFrame>
											<EditBox name="$parent_label" inherits="InputBoxTemplate" autofocus="false">
												<Size>
													<AbsDimension x="150" y="21" />
												</Size>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_scrollframe" X="0" Y="-20" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_text" inherits="GameFontNormal" text="Label">
															<Anchors>
																<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnTabPressed>
														CEPGP_loot_options_keywords_name:SetFocus();
													</OnTabPressed>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_name" inherits="InputBoxTemplate" autofocus="false">
												<Size>
													<AbsDimension x="150" y="21" />
												</Size>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_text" inherits="GameFontNormal" text="Keyword">
															<Anchors>
																<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnTabPressed>
														CEPGP_loot_options_keywords_discount:SetFocus();
													</OnTabPressed>
												</Scripts>
											</EditBox>
											<EditBox name="$parent_discount" inherits="InputBoxTemplate" autofocus="false">
												<Size>
													<AbsDimension x="75" y="21" />
												</Size>
												<Layers>
													<Layer level="OVERLAY">
														<FontString name="$parent_text" inherits="GameFontNormal" text="% Discount">
															<Anchors>
																<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnTabPressed>
														CEPGP_loot_options_keywords_name:SetFocus();
													</OnTabPressed>
												</Scripts>
											</EditBox>
											<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="Add Keyword">
												<Size>
													<AbsDimension x="90" y="40" />
												</Size>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_label" />
												</Anchors>
												<Scripts>
													<OnClick>
														local label = CEPGP_loot_options_keywords_label:GetText();
														local keyword = CEPGP_loot_options_keywords_name:GetText();
														local discount = tonumber(CEPGP_loot_options_keywords_discount:GetText());
														
														if #label == 0 then return; end
														if #keyword == 0 then return; end
														if not discount then return; end
														
														if discount > 100 then
															CEPGP_print("Discount cannot be greater than 100%", true);
															return;
														end
														
														local function isKey(t, val)
															for k, _ in pairs(t) do
																if string.lower(val) == string.lower(k) then
																	return true;
																end
															end
															return false;
														end
														
														local function sanitise()
															if string.sub(label, 1, 1) == " " then
																label = string.sub(label, 2);
																sanitise();
																return;
															end
															if string.sub(label, #label) == " " then
																label = string.sub(label, 1, #label-1);
																sanitise();
																return;
															end
															if string.find(label, "  ") then
																local temp = string.sub(label, 1, string.find(label, "  "));
																label = temp .. string.sub(label, string.find(label, "  ")+2);
																sanitise();
																return;
															end
															if string.sub(keyword, 1, 1) == " " then
																keyword = string.sub(keyword, 2);
																sanitise();
																return;
															end
															if string.sub(keyword, #keyword) == " " then
																keyword = string.sub(keyword, 1, #keyword-1);
																sanitise();
																return;
															end
															if string.find(keyword, "  ") then
																local temp = string.sub(keyword, 1, string.find(keyword, "  "));
																keyword = temp .. string.sub(keyword, string.find(keyword, "  ")+2);
																sanitise();
																return;
															end
														end
														
														sanitise();
														
														
														for i = 1, 4 do
															if string.lower(label) == string.lower(CEPGP.Loot.GUI.Buttons[i][2]) or
																string.lower(label) == string.lower(CEPGP.Loot.GUI.Buttons[i][4])then
																CEPGP_print("Label '" .. label .. "' is already in use", true);
																return;
															end
															if string.lower(keyword) == string.lower(CEPGP.Loot.GUI.Buttons[i][2]) or
																string.lower(keyword) == string.lower(CEPGP.Loot.GUI.Buttons[i][4])then
																CEPGP_print("Keyword '" .. keyword .. "' is already in use", true);
																return;
															end
														end
														
														for k, v in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
															if k == label or isKey(v, label) then
																CEPGP_print("Label '" .. label .. "' is already in use", true);
																return;
															end
															if k == keyword or isKey(v, keyword) then
																CEPGP_print("Keyword '" .. keyword .. "' is already in use", true);
																return;
															end
														end
														
														if 3 > #label then
															CEPGP_print("Labels must be at least 3 characters long", true);
														end
														if 3 > #keyword then
															CEPGP_print("Keywords must be at least 3 characters long", true);
														end
														
														CEPGP.Loot.ExtraKeywords.Keywords[label] = {
															[keyword] = discount
														};
														CEPGP_UpdateKeywordScrollBar();
														CEPGP_loot_options_keywords_label:SetText("");
														CEPGP_loot_options_keywords_name:SetText("");
														CEPGP_loot_options_keywords_discount:SetText("");
													</OnClick>
												</Scripts>
											</Button>
											<Button name="$parent_label_tip">
												<Size x="25" y="25" />
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_label_text" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
															<Size>
																<AbsDimension x="25" y="25" />
															</Size>
															<Anchors>
																<Anchor point="CENTER" relativePoint="CENTER" />
															</Anchors>
														</Texture>
													</Layer>
												</Layers>
												<Scripts>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("|c000077BEWhat is a Label?|r\nThe label is the actual response for this discount.\nFor example: Where 'need' might be the keyword, this might reflect 'Main Spec' or 'greed' might reflect 'Off Spec'.\nThis is what will be recorded in your traffic log.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</Button>
											<Button name="$parent_keyword_tip">
												<Size x="25" y="25" />
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_name_text" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">
														<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
															<Size>
																<AbsDimension x="25" y="25" />
															</Size>
															<Anchors>
																<Anchor point="CENTER" relativePoint="CENTER" />
															</Anchors>
														</Texture>
													</Layer>
												</Layers>
												<Scripts>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("|c000077BEWhat is a Keyword?|r\nThe keyword is what people need to whisper you to use this response.\nThis word is not recorded in traffic.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</Button>
											<Button name="$parent_discount_tip">
											<Size x="25" y="25" />
											<Anchors>
												<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="$parent_discount_text" />
											</Anchors>
											<Layers>
												<Layer level="OVERLAY">
													<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/ui-tutorialframe-questgiver.blp" alphaMode="ADD">
														<Size>
															<AbsDimension x="25" y="25" />
														</Size>
														<Anchors>
															<Anchor point="CENTER" relativePoint="CENTER" />
														</Anchors>
													</Texture>
												</Layer>
											</Layers>
											<Scripts>
												<OnEnter>
													GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
													GameTooltip:SetText("|c000077BEDiscounts|r\nThe discount is used as written. For example, if you enter 50, then it will be a 50% discount.\n\n|c000077BETip!|r\nIf you want a response which |c00FF00FFincreases|r the cost of an item, make the % Discount negative.");
												</OnEnter>
												<OnLeave>
													GameTooltip:Hide();
												</OnLeave>
											</Scripts>
										</Button>
										</Frames>
									</Frame>
								</Frames>
								<Layers>
									<Layer level="OVERLAY">
										<Line name="$parent_divider" thickness="2">
											<Color r="1.0" g="0.82" b="0" />
											<StartAnchor relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_keywords"/>
											<EndAnchor relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_loot_options_keywords"/>
										</Line>
										<FontString name="$parent_heading2" inherits="GameFontNormalLarge" text="Distribution Configuration">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_divider" y="-10" />
											</Anchors>
										</FontString>
										<FontString name="$parent_label_lootmaster" inherits="GameFontNormalLarge" text="Loot Master Features">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_heading2" />
											</Anchors>
										</FontString>
										<FontString name="$parent_label_personal" inherits="GameFontNormalLarge" text="Personal Features" />
									</Layer>
								</Layers>
								<Frames>
									<EditBox name="CEPGP_loot_options_timer_value" inherits="InputBoxTemplate" autofocus="false" numeric="true">
										<Size>
											<AbsDimension x="60" y="20" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_label_lootmaster">
												<AbsDimension x="10" y="0" />
											</Anchor>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_label" inherits="CEPGPEditBoxOptionStringSmall" text="Timeout Duration" />
											</Layer>
										</Layers>
										<Scripts>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("How many seconds raid members have before they automatically pass on an item.\n0 = disabled (no auto passing)");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = tonumber(self:GetText());
												local default = CEPGP.Loot.GUI.Timer;
												if not value or value == default then
													self:SetText(tostring(CEPGP.Loot.GUI.Timer));
													return;
												end
												if tonumber(value) then
													CEPGP.Loot.GUI.Timer = tonumber(value);
												end
											</OnEditFocusLost>
											<OnShow>
												self:SetText(tostring(CEPGP.Loot.GUI.Timer));
											</OnShow>
											<OnLoad>
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_label"]:GetStringHeight()-10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</EditBox>
									<EditBox name="CEPGP_loot_options_announce_edit" inherits="InputBoxTemplate" autofocus="false">
										<Size>
											<AbsDimension x="250" y="21" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_timer_value" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPEditBoxOptionStringSmall" text="Raid Warning Announcement Message" />
											</Layer>
										</Layers>
										<Scripts>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("The message when each item is announced");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP.Loot.Announcement;
												if value == default then
													return;
												end
												CEPGP.Loot.Announcement = value;
											</OnEditFocusLost>
											<OnShow>
												self:SetText(CEPGP.Loot.Announcement);
											</OnShow>
											<OnLoad>
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_label"]:GetStringHeight()-10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</EditBox>
									<CheckButton name="CEPGP_options_raid_warning_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_announce_edit" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Raid Warning on Loot Announcement" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												if self:GetChecked() then
													CEPGP.Loot.RaidWarning = true;
												else
													CEPGP.Loot.RaidWarning = false;
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("When announcing loot, a raid warning will be sent out indicating what item is being distributed.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.RaidWarning then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_hide_response_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_raid_warning_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Hide Whisper Keywords in Loot Announcement" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.HideKeyphrases = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Prevents showing the keyphrase alternatives for each response in the loot announcement message.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.HideKeyphrases);
											</OnShow>
										</Scripts>
									</CheckButton>
									
									<CheckButton name="CEPGP_loot_options_change_of_mind_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_hide_response_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Permit Change of Mind" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.Resubmit = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("When enabled, players can whisper you with an alternate response to change their response");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.Resubmit then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_suppress_change_of_mind_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_change_of_mind_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Suppress Change of Mind Announcements" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.SuppressResubmitResponses = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("When enabled, all messages indicating a player has changed their response will be suppressed");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.SuppressResubmitResponses);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_options_announcement_suppression_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_suppress_change_of_mind_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Suppress Loot Response Announcements" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.SuppressResponses = self:GetChecked();
												CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(self:GetChecked());
												if self:GetChecked() then
													CEPGP_loot_options_suppress_change_of_mind_check:Disable();
												else
													CEPGP_loot_options_suppress_change_of_mind_check:Enable();
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(CEPGP.Loot.SuppressResubmitResponses);
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Suppress responses for loot in chat.\nExample: Player (class) needs.\nEnabling this will also enable \"Suppress Change of Mind Announcements\"");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.SuppressResponses or CEPGP.Loot.DelayResponses then
													self:SetChecked(true);
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(true);
													CEPGP_loot_options_suppress_change_of_mind_check:Disable();
												else
													self:SetChecked(false);
													CEPGP_loot_options_suppress_change_of_mind_check:Enable();
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(CEPGP.Loot.SuppressResubmitResponses);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_announcement_delay_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_announcement_suppression_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Delay Loot Response Announcements" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.DelayResponses = self:GetChecked();
												if self:GetChecked() then													
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(true);
													CEPGP_loot_options_suppress_change_of_mind_check:Disable();
													CEPGP_options_announcement_suppression_check:SetChecked(true);
													CEPGP_options_announcement_suppression_check:Disable();
												else
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(CEPGP.Loot.SuppressResubmitResponses);
													CEPGP_loot_options_suppress_change_of_mind_check:Enable();
													CEPGP_options_announcement_suppression_check:SetChecked(CEPGP.Loot.SuppressResponsess);
													CEPGP_options_announcement_suppression_check:Enable();
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Delays announcing loot responses until everyone has responded\nEnabling this feature will also enable \"Suppress Loot Response Announcements\" and \"Suppress Change of Mind Announcements\"");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.DelayResponses);
												
												if self:GetChecked() then
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(true);
													CEPGP_loot_options_suppress_change_of_mind_check:Disable();
													CEPGP_options_announcement_suppression_check:SetChecked(true);
													CEPGP_options_announcement_suppression_check:Disable();
												else
													CEPGP_loot_options_suppress_change_of_mind_check:SetChecked(CEPGP.Loot.SuppressResubmitResponses);
													CEPGP_loot_options_suppress_change_of_mind_check:Enable();
													CEPGP_options_announcement_suppression_check:SetChecked(CEPGP.Loot.SuppressResponsess);
													CEPGP_options_announcement_suppression_check:Enable();
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_announcement_delay_PR_Check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_announcement_delay_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Include Priority in Delayed Responses" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.PRWithDelay = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Includes the priority of each player when the delayed announcements go out");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.PRWithDelay);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_announcement_delay_roll_Check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_announcement_delay_PR_Check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Include Roll in Delayed Responses" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.RollWithDelay = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Includes the roll of each player when the delayed announcements go out");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.RollWithDelay);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_min_EP_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_announcement_delay_roll_Check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Require a Minimum EP for Loot" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.MinReq[1] = self:GetChecked();
												
												if self:GetChecked() then
													CEPGP_loot_options_min_EP_amount_label:SetTextColor(1, 1, 1);
													CEPGP_loot_options_min_EP_amount:SetTextColor(1, 1, 1);
													CEPGP_loot_options_min_EP_amount:Enable();
												else
													CEPGP_loot_options_min_EP_amount_label:SetTextColor(0.5, 0.5, 0.5);
													CEPGP_loot_options_min_EP_amount:SetTextColor(0.5, 0.5, 0.5);
													CEPGP_loot_options_min_EP_amount:Disable();
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("If enabled, shows when a player wants loot but has less than the required amount.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</CheckButton>
									<EditBox name="CEPGP_loot_options_min_EP_amount" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="60" y="20" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_min_EP_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPEditBoxOptionStringSmall" text="Minimum EP Amount" />
											</Layer>
										</Layers>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_label"]:GetStringHeight()-10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												local value = self:GetText();
												if not tonumber(value) or tonumber(value) == CEPGP.Loot.MinReq[2] then
													self:SetText(tostring(CEPGP.Loot.MinReq[2]));
													return;
												end
												CEPGP.Loot.MinReq[2] = tonumber(self:GetText());
											</OnEditFocusLost>
											<OnShow>
												self:SetText(CEPGP.Loot.MinReq[2]);
											</OnShow>
										</Scripts>
									</EditBox>
									<CheckButton name="CEPGP_loot_options_show_passes_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_min_EP_amount" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Show Passes in the Distribution Table" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.ShowPass = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Toggle whether or not you want players who pass on items to show up in the distribution window.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_enforce_PR_sorting_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_show_passes_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Automate Sorting During Distribution" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.AutoSort = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Automatically sort by response and then by priority when distributing loot");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_pass_roll_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_enforce_PR_sorting_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Auto Roll for Passes" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.PassRolls = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Roll for players who have passed on an item.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.PassRolls then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_award_pass_roll_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_pass_roll_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Include Passes When Awarding for Highest Roll" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.HighestRollIncludesPass = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Allow 'Award to Highest Roller' to consider players who have passed");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.HighestRollIncludesPass then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_announce_roll_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_award_pass_roll_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Include Roll in Response Announcements" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.RollAnnounce = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Includes the player's roll when announcing their loot response.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.RollAnnounce then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_resolve_roll_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_announce_roll_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Auto Resolve Duplicate Rolls" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.ResolveRolls = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("If CEPGP rolls the same number for multiple players, subsequent players will reroll until there are no duplicates.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												if CEPGP.Loot.ResolveRolls then
													self:SetChecked(true);
												else
													self:SetChecked(false);
												end
											</OnShow>
										</Scripts>
									</CheckButton>
									<Frame name="CEPGP_dist_assist_options">
										<Size x="1" y="1" /> <!-- Gets overridden in the OnShow script -->
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_resolve_roll_check" y="-10" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_header" inherits="GameFontNormalLarge" text="Distribution Visibility">
													<Anchors>
														<Anchor point="TOPLEFT" />
													</Anchors>
												</FontString>
												<FontString name="$parent_desc" inherits="GameFontNormal" text="Select which roles and Guild ranks that should be able to see loot distribution">
													<Anchors>
														<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_header" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Frames>
											<CheckButton name="CEPGP_loot_options_dist_assist_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_desc" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Raid Assists" />
													</Layer>
												</Layers>
												<Scripts>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Loot.RaidVisibility[1] = true;
														else
															CEPGP.Loot.RaidVisibility[1] = false;
															CEPGP.Loot.RaidVisibility[2] = false;
															CEPGP_messageGroup("RaidAssistLootClosed", "assists");
															
															CEPGP_loot_options_dist_raidwide_check:SetChecked(false);
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Allow raid assists to view the loot distribution window.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<CheckButton name="CEPGP_loot_options_dist_raidwide_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Entire Raid" />
													</Layer>
												</Layers>
												<Scripts>
													<OnClick>
														local function toggleRanks(locked)
															for i = 1, 10 do
																if locked then
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check"]:Disable();
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check_label"]:SetTextColor(0.5, 0.5, 0.5);
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check"]:SetChecked(true);
																else
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check"]:Enable();
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check_label"]:SetTextColor(1, 1, 1);
																	_G["CEPGP_loot_assist_rank_" .. i .. "_check"]:SetChecked(CEPGP.Loot.RaidVisibility[3][i-1]);
																end
															end
														end
														
														if self:GetChecked() then
															CEPGP.Loot.RaidVisibility[2] = true;
															CEPGP_loot_options_dist_assist_check:Disable();
															CEPGP_loot_options_dist_assist_check:SetChecked(true);
															CEPGP_loot_options_dist_assist_check_label:SetTextColor(0.5, 0.5, 0.5);
															toggleRanks(true);
														else
															CEPGP.Loot.RaidVisibility[2] = false;
															CEPGP_loot_options_dist_assist_check:Enable();
															CEPGP_loot_options_dist_assist_check_label:SetTextColor(1, 1, 1);
															if not CEPGP.Loot.RaidVisibility[1] then
																CEPGP_loot_options_dist_assist_check:SetChecked(false);
															end
															toggleRanks(false);
															CEPGP_addAddonMsg("RaidAssistLootClosed", "RAID");
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Allow all raid members to view the loot distribution window.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_1_check" inherits="CEPGPRaidAssistCheckTemplate" id="0">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_dist_assist_check" y="-10" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_2_check" inherits="CEPGPRaidAssistCheckTemplate" id="1">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_1_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_3_check" inherits="CEPGPRaidAssistCheckTemplate" id="2">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_2_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_4_check" inherits="CEPGPRaidAssistCheckTemplate" id="3">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_3_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_5_check" inherits="CEPGPRaidAssistCheckTemplate" id="4" />
											<CheckButton name="CEPGP_loot_assist_rank_6_check" inherits="CEPGPRaidAssistCheckTemplate" id="5">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_5_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_7_check" inherits="CEPGPRaidAssistCheckTemplate" id="6">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_6_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_8_check" inherits="CEPGPRaidAssistCheckTemplate" id="7" />
											<CheckButton name="CEPGP_loot_assist_rank_9_check" inherits="CEPGPRaidAssistCheckTemplate" id="8">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_8_check" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_loot_assist_rank_10_check" inherits="CEPGPRaidAssistCheckTemplate" id="9">
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_assist_rank_9_check" />
												</Anchors>
											</CheckButton>
										</Frames>
									</Frame>
									
									<!--		Personal Features		-->
									<CheckButton name="CEPGP_loot_options_autoshow_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_label_personal" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Auto Show Loot Window on Distribution" />
											</Layer>
										</Layers>
										<Scripts>
											<OnShow>
												self:SetChecked(CEPGP.Loot.AutoShow);
											</OnShow>
											<OnClick>
												CEPGP.Loot.AutoShow = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("If your loot master has 'Raid Wide Loot Visibility' enabled then CEPGP will automatically open\nto the loot distribution window when an item is announced.");
											</OnEnter>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_options_auto_pass_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_autoshow_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Auto Pass on Ineligible Items" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.AutoPass = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Automatically pass on items if you cannot equip the item");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.AutoPass);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_show_PR_difference_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_auto_pass_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Show Priority Difference on Response Window" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.PRDifference = self:GetChecked();
												if self:GetChecked() then
													CEPGP_respond_gp_change:Show();
												else
													CEPGP_respond_gp_change:Hide();
												end
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Shows the change to your priority on item response window");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.PRDifference);
											</OnShow>
										</Scripts>
									</CheckButton>
									<CheckButton name="CEPGP_loot_options_acknowledge_response_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_show_PR_difference_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Show Response Acknowledgements" />
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												CEPGP.Loot.Acknowledge = self:GetChecked();
											</OnClick>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Shows a message in your chat window when your response is received by the loot master");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnShow>
												self:SetChecked(CEPGP.Loot.Acknowledge);
											</OnShow>
										</Scripts>
									</CheckButton>
									<Button name="CEPGP_min_threshold_dropdown" inherits="UIDropDownMenuTemplate">
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_acknowledge_response_check" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPEditBoxOptionStringSmall" text="Auto Show Threshold" />
											</Layer>
										</Layers>
										<Scripts>
											<OnShow>
												CEPGP_minThresholdDropdown();
												UIDropDownMenu_SetWidth(self, 140);
											</OnShow>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Set the minimum item rarity for the CEPGP loot window to automatically show in raids.\nRequires that you are the master looter and are in a raid group.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnLoad>
												CEPGP_initDropdown(self, CEPGP_minThresholdDropdown);
												
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_label"]:GetStringHeight()-10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</Button>
									<Button name="CEPGP_loot_channel_dropdown" inherits="UIDropDownMenuTemplate">
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_min_threshold_dropdown" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">	
												<FontString name="$parent_label" inherits="CEPGPEditBoxOptionStringSmall" text="Response Reporting Channel" />
											</Layer>
										</Layers>
										<Scripts>
											<OnShow>
												CEPGP_lootChannelDropdown();
												UIDropDownMenu_SetWidth(self, 140);
											</OnShow>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("Sets the channel that loot responses are sent to.\nExample: Player (class) needs.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
											<OnLoad>
												CEPGP_initDropdown(self, CEPGP_lootChannelDropdown);
												
												local point, ref, relPoint, x, y = self:GetPoint();
												
												y = y - _G[self:GetName() .. "_label"]:GetStringHeight()-10;
												
												self:SetPoint(point, ref, relPoint, x, y);
											</OnLoad>
										</Scripts>
									</Button>
								</Frames>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
				</Frames>
				<Scripts>
					<OnShow>
						local parent = self:GetParent();
						
						self:SetWidth(parent:GetWidth()-20);
						self:SetHeight(parent:GetHeight()-20);
						
						local width = self:GetWidth();
						local height = self:GetHeight();
						
						CEPGP_loot_options_scrollframe:SetWidth(width-40);
						CEPGP_loot_options_scrollframe_container:SetWidth(width-40);
						CEPGP_loot_options_scrollframe:SetHeight(height-20);
						CEPGP_loot_options_scrollframe_container:SetHeight(height-20);
						CEPGP_dist_assist_options:SetWidth(width-40);
						CEPGP_dist_assist_options:SetHeight(CEPGP_dist_assist_options_header:GetTop()-CEPGP_loot_assist_rank_4_check:GetBottom()+20);

						CEPGP_loot_assist_rank_5_check:SetPoint("LEFT", CEPGP_loot_assist_rank_1_check, "RIGHT", width/4, 0);
						CEPGP_loot_assist_rank_8_check:SetPoint("LEFT", CEPGP_loot_assist_rank_5_check, "RIGHT", width/4, 0);
					</OnShow>
				</Scripts>
			</Frame>
		</Frames>		
		<Scripts>
			<OnShow>
				--[[	Dimensions	and Anchors	]]--
				
				local width, height = CEPGP_loot_options_keywords:GetWidth(), CEPGP_loot_options_keywords:GetHeight();
				
				CEPGP_loot_options_keywords_scrollframe:SetWidth(width-20);
				CEPGP_loot_options_keywords_scrollframe_container:SetWidth(width-20);
				
				if not CEPGP.Loot.ExtraKeywords then CEPGP.Loot.ExtraKeywords = {Enabled = false}; end
				
				CEPGP_loot_options_scrollframe_container_label_personal:SetPoint("LEFT", CEPGP_loot_options_scrollframe_container_label_lootmaster, "LEFT", width/1.75, 0);
				
				CEPGP_loot_options_keywords_discount:SetPoint("TOPRIGHT", CEPGP_loot_options_keywords_scrollframe, "BOTTOMRIGHT", 0, -20);
				CEPGP_loot_options_keywords_scrollframe_keyword:SetPoint("LEFT", CEPGP_loot_options_keywords_scrollframe_label, "LEFT", (width-20)/3, 0);
				CEPGP_loot_options_keywords_name:SetPoint("LEFT", CEPGP_loot_options_keywords_label, "LEFT", (width-20)/3, 0);

				CEPGP_loot_options_dist_raidwide_check:SetPoint("LEFT", CEPGP_loot_options_dist_assist_check, "RIGHT", (self:GetWidth()-20)/4, 0);
				
				CEPGP_UpdateKeywordScrollBar();
				
				--[[	Object States	]]--
				
				for i = 1, 4 do
					local frame = _G[self:GetName() .. "_preview_" .. i];
					if CEPGP.Loot.GUI.Buttons[i][1] then
						frame:Show();
					else
						frame:Hide();
					end
					frame:SetText(CEPGP.Loot.GUI.Buttons[i][2]);
					
					frame = self:GetName();
					
					
					_G[frame .. "_" .. i .. "_enabled_check"]:SetChecked(CEPGP.Loot.GUI.Buttons[i][1]);
					_G[frame .. "_" .. i .. "_text"]:SetText(CEPGP.Loot.GUI.Buttons[i][2]);
					_G[frame .. "_" .. i .. "_discount"]:SetText(tostring(CEPGP.Loot.GUI.Buttons[i][3]));
					_G[frame .. "_" .. i .. "_whisper_edit"]:SetText(CEPGP.Loot.GUI.Buttons[i][4]);
				end
				
				CEPGP_loot_options_announce_edit:SetText(CEPGP.Loot.Announcement);
				CEPGP_options_auto_pass_check:SetChecked(CEPGP.Loot.AutoPass);
				CEPGP_options_announcement_suppression_check:SetChecked(CEPGP.Loot.SuppressResponses);
				CEPGP_loot_options_min_EP_check:SetChecked(CEPGP.Loot.MinReq[1]);
				CEPGP_loot_options_min_EP_amount:SetText(CEPGP.Loot.MinReq[2]);
				CEPGP_loot_options_show_passes_check:SetChecked(CEPGP.Loot.ShowPass);
				CEPGP_loot_options_enforce_PR_sorting_check:SetChecked(CEPGP.Loot.AutoSort);
				CEPGP_loot_options_dist_assist_check:SetChecked(CEPGP.Loot.RaidVisibility[1]);
				CEPGP_loot_options_dist_raidwide_check:SetChecked(CEPGP.Loot.RaidVisibility[2]);
				
				--[[	Display Configuration	]]--
				
				if CEPGP_loot_options_dist_raidwide_check:GetChecked() then
					CEPGP_loot_options_dist_assist_check:Disable();
					CEPGP_loot_options_dist_assist_check:SetChecked(true);
					CEPGP_loot_options_dist_assist_check_label:SetTextColor(0.5, 0.5, 0.5);
				end
				
				if CEPGP.Loot.ExtraKeywords.Enabled then
					CEPGP_loot_options_keywords:SetAlpha(1);
					CEPGP_loot_options_keywords:SetHeight(CEPGP_loot_options_keywords_scrollframe_label:GetTop()-CEPGP_loot_options_keywords_confirm:GetBottom()+10);
					CEPGP_loot_options_keywords_scrollframe:Show();	--	This frame is hidden by default because setting the alpha to 0 doesn't stop it from utilising the scroll wheel on mouseover
					for _, child in ipairs({CEPGP_loot_options_keywords:GetChildren()}) do
						child:Show();
					end
				else
					CEPGP_loot_options_keywords:SetAlpha(0);
					for _, child in ipairs({CEPGP_loot_options_keywords:GetChildren()}) do
						child:Hide();
					end
				end
				
				if CEPGP_loot_options_min_EP_check:GetChecked() then
					CEPGP_loot_options_min_EP_amount_label:SetTextColor(1, 1, 1);
					CEPGP_loot_options_min_EP_amount:SetTextColor(1, 1, 1);
					CEPGP_loot_options_min_EP_amount:Enable();
				else
					CEPGP_loot_options_min_EP_amount_label:SetTextColor(0.5, 0.5, 0.5);
					CEPGP_loot_options_min_EP_amount:SetTextColor(0.5, 0.5, 0.5);
					CEPGP_loot_options_min_EP_amount:Disable();
				end
				
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_options_plugins" hidden="true">
		<Size>
			<AbsDimension x="580" y="435" />
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_mode" inherits="GameFontNormalLarge" text="Plugin Manager">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_enabled_header" inherits="GameFontNormal" text="Enabled">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<AbsDimension x="5" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow>
				CEPGP_localise(self);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_standby_options" hidden="true">
		<Frames>
			<Frame name="$parent_container">
				<Size x="1" y="1" />
				<Anchors>
					<Anchor point="CENTER" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_standby_ep_head" inherits="GameFontNormalLarge" text="Standby EP">
							<Anchors>
								<Anchor point="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="CEPGP_standby_options_scrollframe" inherits="UIPanelScrollFrameTemplate">
						<Size x="1" y="1" />
						<Anchors>
							<Anchor point="BOTTOM" relativePoint="BOTTOM" />
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_standby_options_scrollframe_container">
								<Size x="1" y="1" />
								<Anchors>
									<Anchor point="CENTER" />
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
									</Layer>
								</Layers>
								<Frames>
									<Frame name="CEPGP_standby_options_top_container">
										<Size x="1" y="1" />
										<Anchors>
											<Anchor point="TOPLEFT" />
										</Anchors>
										<Frames>
											<CheckButton name="CEPGP_options_standby_ep_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOPLEFT" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Enable Standby EP" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														CEPGP.Standby.Enabled = self:GetChecked();
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Award a percentage of automatic EP gains (for example, from boss kills)\nto players on the standby list.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<EditBox name="CEPGP_options_standby_ep_val" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="40" y="20" />
												</Size>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_standby_ep_check" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="GameFontNormalSmall" text="Standby EP Percent">
															<Color r="1" g="1" b="1" />
															<Anchors>
																<Anchor point="RIGHT" relativePoint="LEFT" x="-10" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														local point, ref, relPoint, x, y = self:GetPoint();
														
														x = x + _G[self:GetName() .. "_label"]:GetStringWidth();
														
														self:SetPoint(point, ref, relPoint, x, y);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local value = self:GetText();
														if not CEPGP_isNumber(value) then
															if string.find(self:GetText(), "%%") then
																self:SetText(string.sub(value, 0, string.find(value, "%%")-1));
																CEPGP.Standby.Percent = tonumber(value);
															else
																CEPGP_print("Standby percent must contain numbers only", true);
																self:SetText(tostring(CEPGP.Standby.Percent));
															end
														elseif CEPGP.Standby.Percent ~= tonumber(value) then
															CEPGP.Standby.Percent = tonumber(value);
															CEPGP_print("Standby EP percent updated");
														end
													</OnEditFocusLost>
												</Scripts>
											</EditBox>
											<CheckButton name="CEPGP_options_standby_ep_share_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_val_label" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Share Standby List With Assists" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Standby.Share = true;
															local limit = #CEPGP.Standby.Roster;
															local count = 1;
															--for _, t in pairs(CEPGP.Standby.Roster) do
															if limit > 0 then
																C_Timer.NewTicker(1, function()
																	local t = CEPGP.Standby.Roster[count];
																	local message = "StandbyListAdd;"..t[1]..";"..t[2]..";"..t[3]..";"..t[4]..";"..t[5]..";"..t[6]..";"..t[8];
																	CEPGP_addAddonMsg(message, "RAID");
																	count = count + 1;
																end, limit);
															end
														else
															CEPGP.Standby.Share = false;
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Share the standby list with all raid assists.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_offline_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_share_check" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Award Standby EP to Offline Players" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Standby.Offline = true;
														else
															CEPGP.Standby.Offline = false;
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Award standby EP to offline players on the standby list.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_accept_whispers_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_offline_check" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Auto Add to Standby When Whispered" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														if self:GetChecked() then
															CEPGP.Standby.AcceptWhispers = true;
														else
															CEPGP.Standby.AcceptWhispers = false;
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Allow players to whisper you a certain message to be automatically added to the standby list");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<EditBox name="CEPGP_options_standby_ep_message_val" inherits="InputBoxTemplate">
												<Size>
													<AbsDimension x="80" y="20" />
												</Size>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_accept_whispers_check" x="20" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="GameFontNormalSmall" text="Standby EP Opt-In Message">
															<Color r="1" g="1" b="1" />
															<Anchors>
																<Anchor point="RIGHT" relativePoint="LEFT" x="-10" />
															</Anchors>
														</FontString>
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:SetAutoFocus(false);
														local point, ref, relPoint, x, y = self:GetPoint();
														
														x = x + _G[self:GetName() .. "_label"]:GetStringWidth();
														
														self:SetPoint(point, ref, relPoint, x, y);
													</OnLoad>
													<OnEnterPressed>
														self:ClearFocus();
													</OnEnterPressed>
													<OnShow>
														self:SetText(CEPGP.Standby.Keyword);
													</OnShow>
													<OnEditFocusLost>
														self:HighlightText(0,0);
														local msg = tostring(self:GetText());
														if msg == "" then
															self:SetText(CEPGP.Standby.Keyword);
														elseif CEPGP.Standby.Keyword ~= msg then
															CEPGP.Standby.Keyword = msg;
															CEPGP_print("Whisper message for standby EP updated");
														end
													</OnEditFocusLost>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("When players whisper you this message, they will be added to the standby list automatically");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
													<OnHide>
														GameTooltip:Hide();
													</OnHide>
												</Scripts>
											</EditBox>
											
											<CheckButton name="CEPGP_options_standby_ep_manual_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_message_val_label" x="-30" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Award Standby EP by Player" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														if self:GetChecked() then
															CEPGP_options_standby_ep_byrank_check:SetChecked(false);
															CEPGP.Standby.Manual = true;
															CEPGP.Standby.ByRank = false;
															CEPGP_toggleStandbyRanks(false);
														else
															self:SetChecked(true);
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Add players to the standby EP list manually.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_byrank_check" inherits="UIOptionsCheckButtonTemplate">
												<HitRectInsets>
													<AbsInset left="0" right="0" top="0" bottom="0" />
												</HitRectInsets>
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_manual_check" />
												</Anchors>
												<Layers>
													<Layer level="OVERLAY">	
														<FontString name="$parent_label" inherits="CEPGPOptionStringSmall" text="Award Standby EP by Rank" />
													</Layer>
												</Layers>
												<Scripts>
													<OnLoad>
														self:RegisterForClicks('LeftButtonDown');
													</OnLoad>
													<OnClick>
														if self:GetChecked() then
															CEPGP_options_standby_ep_manual_check:SetChecked(false);
															CEPGP.Standby.Manual = false;
															CEPGP.Standby.ByRank = true;
															CEPGP_toggleStandbyRanks(true);
														else
															self:SetChecked(true);
														end
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Award standby EP to all players in the selected ranks.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</CheckButton>
										</Frames>
										<Scripts>
											<OnShow>
												self:SetHeight(CEPGP_options_standby_ep_check:GetTop() - CEPGP_options_standby_ep_byrank_check:GetBottom() + 20);
											</OnShow>
										</Scripts>
									</Frame>
									<Frame name="CEPGP_standby_ranks_container">
										<Size x="1" y="1" />
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_options_top_container" y="-10" />
										</Anchors>
										<Frames>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_1" id="1" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOPLEFT" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_2" id="2" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_1" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_3" id="3" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_2" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_4" id="4" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_3" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_5" id="5" inherits="StandbyEPRankCheckBox" />
											<CheckButton name="CEPGP_options_standby_ep_check_rank_6" id="6" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_5" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_7" id="7" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_6" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_8" id="8" inherits="StandbyEPRankCheckBox" />
											<CheckButton name="CEPGP_options_standby_ep_check_rank_9" id="9" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_8" />
												</Anchors>
											</CheckButton>
											<CheckButton name="CEPGP_options_standby_ep_check_rank_10" id="10" inherits="StandbyEPRankCheckBox">
												<Anchors>
													<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_check_rank_9" />
												</Anchors>
											</CheckButton>
										</Frames>
										<Scripts>
											<OnShow>
												self:SetHeight(CEPGP_options_standby_ep_check_rank_1:GetTop() - CEPGP_options_standby_ep_check_rank_4:GetBottom() + 20);
											</OnShow>
										</Scripts>
									</Frame>
									<Frame name="CEPGP_standby_manual_container">
										<Size x="1" y="250" />
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_options_top_container" y="-10" />
										</Anchors>
										<Frames>
											<ScrollFrame name="CEPGP_standby_scrollframe" inherits="UIPanelScrollFrameTemplate">
												<Size x="1" y="250" />
												<Anchors>
													<Anchor point="TOPLEFT" y="-20" />
												</Anchors>
												<ScrollChild>
													<Frame name="CEPGP_standby_scrollframe_container">
														<Size x="1" y="300" />
														<Anchors>
															<Anchor point="TOPLEFT" />
														</Anchors>
													</Frame>
												</ScrollChild>
												<Frames>
													<Button name="CEPGP_standby_name" inherits="CEPGPHeaderButton" text="Name">
														<Size x="50" y="20" />
														<Anchors>
															<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
														</Anchors>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(1, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 1);
															</OnClick>
														</Scripts>
													</Button>
													<Button name="CEPGP_standby_class" inherits="CEPGPHeaderButton" text="Class">
														<Size>
															<AbsDimension x="50" y="20" />
														</Size>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(2, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 2);
															</OnClick>
														</Scripts>
													</Button>
													<Button name="CEPGP_standby_rank" inherits="CEPGPHeaderButton" text="Rank">
														<Size>
															<AbsDimension x="50" y="20" />
														</Size>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(4, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 4);
															</OnClick>
														</Scripts>
													</Button>
													<Button name="CEPGP_standby_EP" inherits="CEPGPHeaderButton" text="EP">
														<Size>
															<AbsDimension x="50" y="20" />
														</Size>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(5, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 5);
															</OnClick>
														</Scripts>
													</Button>
													<Button name="CEPGP_standby_GP" inherits="CEPGPHeaderButton" text="GP">
														<Size>
															<AbsDimension x="50" y="20" />
														</Size>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(6, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 6);
															</OnClick>
														</Scripts>
													</Button>
													<Button name="CEPGP_standby_PR" inherits="CEPGPHeaderButton" text="PR">
														<Size>
															<AbsDimension x="50" y="20" />
														</Size>
														<Scripts>
															<OnClick>
																CEPGP_setCriteria(7, "Standby");
																CEPGP.Standby.Roster = CEPGP_tSort(CEPGP.Standby.Roster, 7);
															</OnClick>
														</Scripts>
													</Button>
												</Frames>
											</ScrollFrame>
											<Button name="CEPGP_options_standby_ep_award" inherits="GameMenuButtonTemplate" text="Award Standby EP">
												<Size>
													<AbsDimension x="125" y="25"/>
												</Size>
												<Anchors>
													<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_scrollframe" />
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(856);
														CEPGP_ListButton_OnClick(self:GetName(), button);
													</OnClick>
													<OnEnter>
														GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
														GameTooltip:SetText("Add/subtract EP for players on the standby list.");
													</OnEnter>
													<OnLeave>
														GameTooltip:Hide();
													</OnLeave>
												</Scripts>
											</Button>
											<Button name="CEPGP_standby_ep_list_add" inherits="GameMenuButtonTemplate" text="Add to Standby">
												<Size>
													<AbsDimension x="100" y="25" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_award">
														<Offset>
															<AbsDimension x="10" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
														if UnitInRaid("player") then
															CEPGP_ListButton_OnClick(self:GetName(), button);
														else
															CEPGP_print("You need to be in a raid group to add players to standby.", true);
														end
													</OnClick>
												</Scripts>
											</Button>
											<Button name="CEPGP_standby_ep_list_addbyrank" inherits="GameMenuButtonTemplate" text="Add Rank to Standby">
												<Size>
													<AbsDimension x="125" y="25" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_standby_ep_list_add">
														<Offset>
															<AbsDimension x="10" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
														if UnitInRaid("player") then
															CEPGP_ListButton_OnClick(self:GetName(), button);
														else
															CEPGP_print("You need to be in a raid group to add players to standby.", true);
														end
													</OnClick>
												</Scripts>
											</Button>
											<Button name="CEPGP_standby_ep_list_purge" inherits="GameMenuButtonTemplate" text="Clear Standby List">
												<Size>
													<AbsDimension x="100" y="25" />
												</Size>
												<Anchors>
													<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_standby_ep_list_addbyrank">
														<Offset> 
															<AbsDimension x="10" y="0"/>
														</Offset>
													</Anchor>
												</Anchors>
												<Scripts>
													<OnClick>
														PlaySound(799);
														CEPGP_ListButton_OnClick(self:GetName(), button);
													</OnClick>
												</Scripts>
											</Button>
											
										</Frames>
										<Scripts>
											<OnShow>
												self:SetHeight(CEPGP_standby_name:GetTop() - CEPGP_options_standby_ep_award:GetBottom());
											</OnShow>
										</Scripts>
									</Frame>
								</Frames>
							</Frame>
						</ScrollChild>
				</ScrollFrame>
				</Frames>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_options_standby_ep_check:SetChecked(CEPGP.Standby.Enabled);
				CEPGP_options_standby_ep_val:SetText(CEPGP.Standby.Percent);
				CEPGP_options_standby_ep_share_check:SetChecked(CEPGP.Standby.Share);
				CEPGP_options_standby_ep_offline_check:SetChecked(CEPGP.Standby.Offline);
				CEPGP_options_standby_ep_accept_whispers_check:SetChecked(CEPGP.Standby.AcceptWhispers);
				CEPGP_options_standby_ep_message_val:SetText(CEPGP.Standby.Keyword);
				CEPGP_options_standby_ep_byrank_check:SetChecked(CEPGP.Standby.ByRank);
				CEPGP_options_standby_ep_manual_check:SetChecked(CEPGP.Standby.Manual);
				CEPGP_toggleStandbyRanks(CEPGP.Standby.ByRank);
				
				local width = self:GetWidth();
				local height = self:GetHeight();
				local sf = CEPGP_standby_options_scrollframe;
				
				CEPGP_standby_options_container:SetWidth(width-20);
				CEPGP_standby_options_container:SetHeight(height-20);
				
				sf:SetWidth(width-60);
				sf:SetHeight(height-40);
				
				width, height = sf:GetWidth(), sf:GetHeight()
				
				CEPGP_standby_options_scrollframe_container:SetWidth(width);
				CEPGP_standby_options_scrollframe_container:SetHeight(height);
				CEPGP_standby_ranks_container:SetWidth(width);
				CEPGP_standby_manual_container:SetWidth(width);
				CEPGP_standby_options_top_container:SetWidth(width);
				
				CEPGP_standby_scrollframe:SetWidth(width-40);
				CEPGP_standby_scrollframe_container:SetWidth(width-40);
				
				width = sf:GetWidth();
				CEPGP_standby_class:SetPoint("LEFT", CEPGP_standby_name, "LEFT", width/7, 0);
				CEPGP_standby_rank:SetPoint("LEFT", CEPGP_standby_class, "LEFT", width/6, 0);
				CEPGP_standby_EP:SetPoint("LEFT", CEPGP_standby_rank, "LEFT", width/5.5, 0);
				CEPGP_standby_GP:SetPoint("LEFT", CEPGP_standby_EP, "LEFT", width/7, 0);
				CEPGP_standby_PR:SetPoint("LEFT", CEPGP_standby_GP, "LEFT", width/7.5, 0);
				
				CEPGP_options_standby_ep_check_rank_5:SetPoint("LEFT", CEPGP_options_standby_ep_check_rank_1, "LEFT", CEPGP_standby_ranks_container:GetWidth()/3, 0);
				CEPGP_options_standby_ep_check_rank_8:SetPoint("LEFT", CEPGP_options_standby_ep_check_rank_5, "LEFT", CEPGP_standby_ranks_container:GetWidth()/3, 0);
				
				CEPGP_localise(self);
				CEPGP_UpdateStandbyScrollBar();
			</OnShow>
		</Scripts>
	</Frame>
	
</Ui>